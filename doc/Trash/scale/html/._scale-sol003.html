<!--
Automatically generated HTML file from DocOnce source
(https://github.com/hplgit/doconce/)
-->
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="DocOnce: https://github.com/hplgit/doconce/" />
<meta name="description" content="Scaling of differential equations">
<meta name="keywords" content="scaling,non-dimensionalization,dimensionless variable,units,base unit,length,mass,time,dimension of physical quantities,units US,units British,units conversion,units software,multiple software runs,web interface (Parampool),graphical web interface,exponential decay,dimensionless variable,characteristic time,e-folding time,memoize function,dimensionless number,dimensionless number,dimensionless number,logistic equation,dimensionless number,frequency,frequency, angular,period (of oscillations),radians,angular frequency,quality factor $Q$,phase shift,dimensionless number,Peclet number,dimensionless number,Reynolds number,Navier-Stokes equations,dimensionless number,Reynolds number,Reynolds number,low Reynolds number flow,Stokes problem,Stokes' flow,Froude number,creeping flow,Strouhal number,vortex shedding,Euler number,Weber number,forced convection,Peclet number,Reynolds number,free convection,Grashof number,Reynolds number,Peclet number,Eckert number,Nusselt number">

<title>Scaling of differential equations</title>

<!-- Bootstrap style: bootswatch_journal -->
<link href="http://netdna.bootstrapcdn.com/bootswatch/3.1.1/journal/bootstrap.min.css" rel="stylesheet">
<!-- not necessary
<link href="http://netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css" rel="stylesheet">
-->

<style type="text/css">
/* Let inline verbatim have the same color as the surroundings */
code { color: inherit; background-color: transparent; }
</style>


</head>

<!-- tocinfo
{'highest level': 1,
 'sections': [('Dimensions and units', 1, 'scale:dimunit', 'scale:dimunit'),
              ('Base units and dimensions', 2, None, '___sec1'),
              ('Prefixes', 3, None, '___sec2'),
              ('SI vs US/British systems', 3, None, '___sec3'),
              ('PhysicalQuantity: object for computing with units',
               2,
               'scale:PQ',
               'scale:PQ'),
              ('Parampool: user interfaces with automatic unit conversion',
               2,
               'scale:parampool',
               'scale:parampool'),
              ('Example application', 3, None, '___sec6'),
              ('Pool', 3, None, '___sec7'),
              ('Fetching pool data and computing $s$', 3, None, '___sec8'),
              ('Reading command-line options', 3, None, '___sec9'),
              ('Setting default values in a file', 3, None, '___sec10'),
              ('Specifying multiple values of input parameters',
               3,
               None,
               '___sec11'),
              ('Generating a graphical user interface', 3, None, '___sec12'),
              ('Exponential decay', 1, 'sec:scale:decay', 'sec:scale:decay'),
              ('Example: Population dynamics', 3, None, '___sec14'),
              ('Example: Decay of pressure with altitude',
               3,
               None,
               '___sec15'),
              ('The technical steps of the scaling procedure',
               2,
               'sec:scale:decay:steps',
               'sec:scale:decay:steps'),
              ('Step 1: Identify independent and dependent variables',
               3,
               None,
               '___sec17'),
              ('Step 2: Make independent and dependent variables dimensionless',
               3,
               None,
               '___sec18'),
              ('Step 3: Derive the model involving only dimensionless variables',
               3,
               None,
               '___sec19'),
              ('Step 4: Make each term dimensionless', 3, None, '___sec20'),
              ('Step 5: Estimate the scales', 3, None, '___sec21'),
              ('Making software utilizing the dimensionless model',
               2,
               'sec:scale:decay:prog',
               'sec:scale:decay:prog'),
              ('Software for the original problem with dimensions',
               3,
               None,
               '___sec23'),
              ('A plain solution', 3, None, '___sec24'),
              ('Simplifying the implementation with joblib',
               3,
               None,
               '___sec25'),
              ('Scaling a generalized problem',
               2,
               'sec:scale:decay:body',
               'sec:scale:decay:body'),
              ('Exact solution', 3, None, '___sec27'),
              ('Theory', 3, None, '___sec28'),
              ('Software', 3, None, '___sec29'),
              ('Variable coefficients',
               2,
               'sec:scale:decay:jump',
               'sec:scale:decay:jump'),
              ('Scaling a cooling problem with constant surroundings',
               2,
               'scale:decay:cooling:const',
               'scale:decay:cooling:const'),
              ('Scaling a cooling problem with time-dependent surroundings',
               2,
               'scale:decay:cooling:osc',
               'scale:decay:cooling:osc'),
              ('Exact solution', 3, None, '___sec33'),
              ('Scaling', 3, None, '___sec34'),
              ('Software', 3, None, '___sec35'),
              ('Discussion of the time scale', 3, None, '___sec36'),
              ('Scaling a nonlinear ODE',
               2,
               'sec:scale:decay:nonlinear',
               'sec:scale:decay:nonlinear'),
              ('ODE systems for spreading of diseases', 2, None, '___sec38'),
              ('SIR model', 3, None, '___sec39'),
              ('SIRV model with finite immunity', 3, None, '___sec40'),
              ('Michaelis-Menten kinetics for biochemical reactions',
               2,
               'scale:MMK',
               'scale:MMK'),
              ('Classical analysis', 3, None, '___sec42'),
              ('Dimensionless ODE system', 3, None, '___sec43'),
              ('Determining scales', 3, None, '___sec44'),
              ('Analysis of the scaled system', 3, None, '___sec45'),
              ('Vibration problems', 1, 'sec:scale:vib', 'sec:scale:vib'),
              ('Undamped vibrations without forcing',
               2,
               'sec:scale:vib:undamped',
               'sec:scale:vib:undamped'),
              ('The first technical steps of scaling', 3, None, '___sec48'),
              ('The exact solution', 3, None, '___sec49'),
              ('Discussion of the displacement scale', 3, None, '___sec50'),
              ('Discussion of the time scale', 3, None, '___sec51'),
              ('Alternative displacement scale', 3, None, '___sec52'),
              ('About frequency and dimensions', 3, None, '___sec53'),
              ('Undamped vibrations with constant forcing',
               2,
               'sec:scale:vib:undamped:mg',
               'sec:scale:vib:undamped:mg'),
              ('Undamped vibrations with time-dependent forcing',
               2,
               'sec:scale:vib:undamped:F',
               'sec:scale:vib:undamped:F'),
              ('Investigating scales via analytical solutions',
               3,
               None,
               '___sec56'),
              ('The displacement and time scales', 3, None, '___sec57'),
              ('Finding the displacement scale from the differential equation',
               3,
               None,
               '___sec58'),
              ('Scaling with free vibrations as time scale',
               3,
               None,
               '___sec59'),
              ('Software', 3, None, '___sec60'),
              ('Choice of $u_c$ close to resonance', 3, None, '___sec61'),
              ('Unit size of all terms in the ODE', 3, None, '___sec62'),
              ('Choice of $u_c$ when $\\psi\\gg\\omega$',
               3,
               None,
               '___sec63'),
              ('Displacement scale based on $I$', 3, None, '___sec64'),
              ('Damped vibrations with forcing',
               2,
               'sec:scale:vib:damped:F',
               'sec:scale:vib:damped:F'),
              ('The exact solution', 3, None, '___sec66'),
              ('Choosing scales', 3, None, '___sec67'),
              ('Choice of $u_c$ at resonance', 3, None, '___sec68'),
              ('Choice of $u_c$ when $\\omega\\gg\\psi$',
               3,
               None,
               '___sec69'),
              ('Choice of $u_c$ when $\\omega\\ll\\psi$',
               3,
               None,
               '___sec70'),
              ('Oscillating electric circuits', 2, None, '___sec71'),
              ('The wave equation', 1, 'sec:scale:wave', 'sec:scale:wave'),
              ('Simple homogeneous Dirichlet conditions',
               2,
               None,
               '___sec73'),
              ('Implementation of the scaled wave equation',
               2,
               None,
               '___sec74'),
              ('Waves on a string', 3, None, '___sec75'),
              ('Detecting an already computed case', 3, None, '___sec76'),
              ('Time-dependent Dirichlet condition',
               2,
               'scale:wave:pde2',
               'scale:wave:pde2'),
              ('Velocity initial condition',
               2,
               'scale:wave:pde2:Vcond',
               'scale:wave:pde2:Vcond'),
              ('Variable wave velocity and forcing',
               2,
               'scale:wave:pde2:cvar',
               'scale:wave:pde2:cvar'),
              ('Damped wave equation',
               2,
               'scale:wave:pde2:damped',
               'scale:wave:pde2:damped'),
              ('A three-dimensional wave equation problem',
               2,
               None,
               '___sec81'),
              ('The diffusion equation',
               1,
               'sec:scale:diffu',
               'sec:scale:diffu'),
              ('Homogeneous diffusion equation',
               2,
               'sec:scale:diffu:homo1D',
               'sec:scale:diffu:homo1D'),
              ('Simplified 1D PDE', 3, None, '___sec84'),
              ('Generalized PDE', 3, None, '___sec85'),
              ('Jump boundary condition', 2, None, '___sec86'),
              ('Oscillating Dirichlet condition', 2, None, '___sec87'),
              ('Diffusion equation with source term',
               2,
               'sec:scale:diffu:source',
               'sec:scale:diffu:source'),
              ("Fisher's equation",
               2,
               'sec:scale:diffu:Fisher',
               'sec:scale:diffu:Fisher'),
              ('The convection-diffusion equation',
               1,
               'scale:convdiff',
               'scale:convdiff'),
              ('Convection-diffusion without a force term',
               2,
               None,
               '___sec91'),
              ('Stationary PDE', 2, None, '___sec92'),
              ('Convection-diffusion with a force term',
               2,
               'scale:convdiff',
               'scale:convdiff'),
              ('The equations of linear elasticity', 1, None, '___sec94'),
              ('The Navier-Stokes equations',
               1,
               'sec:scale:ns',
               'sec:scale:ns'),
              ('The momentum equation without body forces',
               2,
               None,
               '___sec96'),
              ('The most common dimensionless form of the Navier-Stokes equations',
               2,
               None,
               '___sec97'),
              ('Scaling of time for low Reynolds numbers',
               2,
               None,
               '___sec98'),
              ('Shear stress as pressure scale', 2, None, '___sec99'),
              ('Including the gravity force', 2, None, '___sec100'),
              ('Oscillating boundary conditions', 2, None, '___sec101'),
              ('The Euler number', 2, None, '___sec102'),
              ('Free surface conditions', 2, None, '___sec103'),
              ('Thermal convection', 1, None, '___sec104'),
              ('Forced convection', 2, None, '___sec105'),
              ('Free convection',
               2,
               'scale:fluid:forced_convection',
               'scale:fluid:forced_convection'),
              ('Governing equations', 3, None, '___sec107'),
              ('Heating by viscous effects', 3, None, '___sec108'),
              ('Relation between density and temperature',
               3,
               None,
               '___sec109'),
              ('Comment on the form of the equation of continuity',
               3,
               None,
               '___sec110'),
              ('The Boussinesq approximation', 3, None, '___sec111'),
              ('Scaling', 3, None, '___sec112'),
              ('The Grashof, Prandtl, and Eckert numbers',
               2,
               None,
               '___sec113'),
              ('Heat transfer at boundaries', 2, None, '___sec114'),
              ('The bidomain model in electrophysiology',
               1,
               'scale:bidomain',
               'scale:bidomain'),
              ('Two-phase porous media flow', 1, None, '___sec116'),
              ('The Euler equations of gas dynamics', 1, None, '___sec117'),
              ('Exercises', 1, None, '___sec118'),
              ('Exercise 1: Perform unit conversion',
               2,
               'sec:scale:exer:US2SI1',
               'sec:scale:exer:US2SI1'),
              ('Problem 2: Scale a simple formula',
               2,
               'sec:scale:exer:ball_y',
               'sec:scale:exer:ball_y'),
              ('Problem 3: Scale a nonlinear ODE',
               2,
               'sec:scale:exer:ball_y_wdrag',
               'sec:scale:exer:ball_y_wdrag'),
              ('Exercise 4: Implement a scaled model with jump',
               2,
               'sec:scale:exer:decay:jump',
               'sec:scale:exer:decay:jump'),
              ('Exercise 5: Implement a scaled model for cooling',
               2,
               'sec:scale:exer:decay:cooling',
               'sec:scale:exer:decay:cooling'),
              ('Problem 6: Scale variable coefficients',
               2,
               'scale:decay:exer:decay:step',
               'scale:decay:exer:decay:step'),
              ('Exercise 7: Alternative scalings of a cooling model',
               2,
               'scale:decay:exer:cooling:Ts',
               'scale:decay:exer:cooling:Ts'),
              ('Exercise 8: Alternative scalings of a cooling model',
               2,
               'scale:decay:exer:nonlin:logistic2',
               'scale:decay:exer:nonlin:logistic2'),
              ('Exercise 9: Scale projectile motion',
               2,
               'scale:vib:exer:projectile',
               'scale:vib:exer:projectile'),
              ('Problem 10: Scale a predator-pray model',
               2,
               'scale:decay:exer:predpray',
               'scale:decay:exer:predpray'),
              ('Problem 11: Find the period of sinusoidal signals',
               2,
               'scale:decay:exer:sine',
               'scale:decay:exer:sine'),
              ('Remarks', 3, None, '___sec130'),
              ('Problem 12: Scale the pendulum equation',
               2,
               'sec:scale:exer:pendulum',
               'sec:scale:exer:pendulum'),
              ("Problem 13: Scale Duffing's equation",
               2,
               'scale:vib:exer:Duffing',
               'scale:vib:exer:Duffing'),
              ('Problem 14: Scale a stationary Couette flow',
               2,
               'scale:vib:exer:stationary_Couette',
               'scale:vib:exer:stationary_Couette'),
              ('Remarks', 3, None, '___sec134'),
              ('Problem 15: Scale a starting Couette flow',
               2,
               'scale:vib:exer:starting_Couette',
               'scale:vib:exer:starting_Couette'),
              ('Exercise 16: Scale Couette flow with pressure gradient',
               2,
               'scale:vib:exer:Couette_wpressure',
               'scale:vib:exer:Couette_wpressure'),
              ('Exercise 17: Suggestions...',
               2,
               'scale::exer:suggest',
               'scale::exer:suggest'),
              ('Bibliography', 1, None, '___sec138')]}
end of tocinfo -->

<body>



<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  TeX: {
     equationNumbers: {  autoNumber: "none"  },
     extensions: ["AMSmath.js", "AMSsymbols.js", "autobold.js", "color.js"]
  }
});
</script>
<script type="text/javascript"
 src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>

<!-- newcommands_keep.tex -->
$$
\newcommand{\half}{\frac{1}{2}}
\newcommand{\tp}{\thinspace .}
\newcommand{\uex}{{u_{\small\mbox{e}}}}
\newcommand{\normalvec}{\boldsymbol{n}}
\newcommand{\x}{\boldsymbol{x}}
\renewcommand{\u}{\boldsymbol{u}}
\renewcommand{\v}{\boldsymbol{v}}
\newcommand{\f}{\boldsymbol{f}}
\newcommand{\dfc}{\alpha}  % diffusion coefficient
\newcommand{\ii}{\boldsymbol{i}}
\newcommand{\jj}{\boldsymbol{j}}
\newcommand{\kk}{\boldsymbol{k}}
$$




    
<!-- Bootstrap navigation bar -->
<div class="navbar navbar-default navbar-fixed-top">
  <div class="navbar-header">
    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-responsive-collapse">
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
    </button>
    <a class="navbar-brand" href="scale-sol.html">Scaling of differential equations</a>
  </div>
  <div class="navbar-collapse collapse navbar-responsive-collapse">
    <ul class="nav navbar-nav navbar-right">
      <li class="dropdown">
        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Contents <b class="caret"></b></a>
        <ul class="dropdown-menu">
     <!-- navigation toc: --> <li><a href="#scale:dimunit" style="font-size: 80%;">Dimensions and units</a></li>
     <!-- navigation toc: --> <li><a href="._scale-sol004.html#sec:scale:decay" style="font-size: 80%;">Exponential decay</a></li>
     <!-- navigation toc: --> <li><a href="._scale-sol005.html#sec:scale:vib" style="font-size: 80%;">Vibration problems</a></li>
     <!-- navigation toc: --> <li><a href="._scale-sol006.html#sec:scale:wave" style="font-size: 80%;">The wave equation</a></li>
     <!-- navigation toc: --> <li><a href="._scale-sol007.html#sec:scale:diffu" style="font-size: 80%;">The diffusion equation</a></li>
     <!-- navigation toc: --> <li><a href="._scale-sol008.html#scale:convdiff" style="font-size: 80%;">The convection-diffusion equation</a></li>
     <!-- navigation toc: --> <li><a href="._scale-sol009.html#___sec94" style="font-size: 80%;">The equations of linear elasticity</a></li>
     <!-- navigation toc: --> <li><a href="._scale-sol009.html#sec:scale:ns" style="font-size: 80%;">The Navier-Stokes equations</a></li>
     <!-- navigation toc: --> <li><a href="._scale-sol009.html#___sec104" style="font-size: 80%;">Thermal convection</a></li>
     <!-- navigation toc: --> <li><a href="._scale-sol009.html#scale:bidomain" style="font-size: 80%;">The bidomain model in electrophysiology</a></li>
     <!-- navigation toc: --> <li><a href="._scale-sol009.html#___sec116" style="font-size: 80%;">Two-phase porous media flow</a></li>
     <!-- navigation toc: --> <li><a href="._scale-sol009.html#___sec117" style="font-size: 80%;">The Euler equations of gas dynamics</a></li>
     <!-- navigation toc: --> <li><a href="._scale-sol009.html#___sec118" style="font-size: 80%;">Exercises</a></li>
     <!-- navigation toc: --> <li><a href="._scale-sol010.html#___sec138" style="font-size: 80%;">Bibliography</a></li>

        </ul>
      </li>
    </ul>
  </div>
</div>
</div> <!-- end of navigation bar -->

<div class="container">

<p>&nbsp;</p><p>&nbsp;</p><p>&nbsp;</p> <!-- add vertical space -->

<a name="part0003"></a>
<!-- !split -->

<h1 id="scale:dimunit">Dimensions and units</h1>

<p>
A mechanical system undergoing one-dimensional damped vibrations can be
modeled by the equation

$$
\begin{equation}
mu'' + bu' + ku = 0,
\tag{1}
\end{equation}
$$

where \( m \) is the mass of the system, \( b \) is some damping coefficient,
\( k \) is a spring constant, and \( u(t) \) is the displacement of the system.
This is an equation expressing
the balance of three physical effects: \( mu'' \) (mass times
acceleration), \( bu' \) (damping force), and \( ku \) (spring force).
The different physical quantities, such as \( m \), \( u(t) \), \( b \), and \( k \),
have all different <em>dimensions</em>, measured in different <em>units</em>,
but \( mu'' \), \( bu' \), and \( ku \) must all have the same dimension, otherwise
it would not make sense to add them (you will have the same problem
as when trying to a banana, an apple, and an orange).

<h2 id="___sec1">Base units and dimensions </h2>

<p>
There are seven fundamental <em>base units</em>: length, mass, time,
electric current, thermodynamic
temperature, amount of substance, and luminous intensity.  The base
units for length, mass, and time, which we are mostly occupied with in
this document, are measured by the SI units meter
(m), kilogram (kg), and seconds (s), respectively.

<p>
The dimension of length is written as [L], the dimension of mass is
[M], the dimension of time is [T], and the dimension of temperature is
\( [\Theta] \) (the dimensions of the other base units are not of interest
here). The dimension of a <em>derived unit</em> like velocity, which is
distance (length) divided by time, then becomes \( [\hbox{LT}^{-1}] \).
The dimension of force, another derived unit, is the same as the
dimension of mass times acceleration, and hence the dimension of force is
\( [\hbox{MLT}^{-2}] \).

<p>
Let us find the dimensions of the terms in <a href="#mjx-eqn-1">(1)</a>.
A displacement \( u(t) \) has dimension [L]. The derivative \( u'(t) \) is
change of displacement, which has dimension [L], divided by a time
interval, which has dimension [T], implying that the dimension of \( u' \)
is \( \hbox{LT}^{-1} \). This results coincides with the interpretation of
\( u' \) as velocity and the fact that velocity is defined as distance
([L]) per time ([T]).

<p>
Looking at <a href="#mjx-eqn-1">(1)</a>, and interpreting \( u(t) \)
as displacement, we realize that the term \( mu'' \)
(mass times acceleration) has dimension \( [\hbox{MLT}^{-2}] \).  The term
\( bu' \) must have the same dimension, and since \( u' \) has dimension
\( [\hbox{LT}^{-1}] \), \( b \) must have dimension \( [\hbox{MT}^{-1}] \).
Finally, \( ku \) must also have dimension \( [\hbox{MLT}^{-1}] \), implying that \( k \)
is a parameter with dimension \( [\hbox{MT}^{-2}] \).

<p>
The unit of a physical quantity follows from the dimension expression.
For example, since velocity has dimension \( \hbox{LT}^{-1} \) and length
is measured in m while time is measured in s, the unit for velocity
becomes m/s. Similarly, force has dimension \( [\hbox{MLT}^{-2}] \) and
unit \( \hbox{kg\, m/s}^2 \). The \( k \) parameter in <a href="#mjx-eqn-1">(1)</a>
is measured in \( \hbox{kg\,s}^{-2} \).

<p>
Many derived quantities are measured in derived units. Force is one
example: Newton (N) is a derived unit for force, equal to \( \hbox{kg\,
m/s}^2 \). Another derived unit is Pascal (Pa) for pressure and stress,
i.e., force per area. The unit of Pa then equals \( \hbox{N/m}^2 \) or
\( \hbox{kg/ms}^2 \). Below are more derived quantities and their units.

<p>

<div class="row">
  <div class="col-xs-6">
    <table class="table table-striped table-hover table-condensed">
<thead>
<tr><td align="center"><b> Name </b></td> <td align="center"><b>Symbol</b></td> <td align="center"><b>Physical quantity </b></td> <td align="center"><b>          unit         </b></td> </tr>
</thead>
<tbody>
<tr><td align="left">   radian    </td> <td align="left">   rad       </td> <td align="left">   angle                 </td> <td align="left">   1                          </td> </tr>
<tr><td align="left">   hertz     </td> <td align="left">   Hz        </td> <td align="left">   frequency             </td> <td align="left">   \( \hbox{s}^{-1} \)        </td> </tr>
<tr><td align="left">   newton    </td> <td align="left">   N         </td> <td align="left">   force, weight         </td> <td align="left">   \( \hbox{kg\, m/s}^2 \)    </td> </tr>
<tr><td align="left">   pascal    </td> <td align="left">   Pa        </td> <td align="left">   pressure, stress      </td> <td align="left">   \( \hbox{N/m}^2 \)         </td> </tr>
<tr><td align="left">   joule     </td> <td align="left">   J         </td> <td align="left">   energy, work, heat    </td> <td align="left">   Nm                         </td> </tr>
<tr><td align="left">   watt      </td> <td align="left">   W         </td> <td align="left">   power                 </td> <td align="left">   J/s                        </td> </tr>
</tbody>
    </table>
  </div>
</div> <!-- col-xs-6 -->
<p>
Some common physical quantities and their dimensions are listed next.

<p>

<div class="row">
  <div class="col-xs-12">
    <table class="table table-striped table-hover table-condensed">
<thead>
<tr><td align="center"><b>       Quantity       </b></td> <td align="center"><b>           relation           </b></td> <td align="center"><b>               unit               </b></td> <td align="center"><b>                 dimension                 </b></td> </tr>
</thead>
<tbody>
<tr><td align="left">   stress                    </td> <td align="left">   force/area                        </td> <td align="left">   \( \hbox{N/m}^2 = \hbox{Pa} \)        </td> <td align="left">   \( [\hbox{MLT}^{-2}\hbox{L}^{-2}] \)           </td> </tr>
<tr><td align="left">   pressure                  </td> <td align="left">   force/area                        </td> <td align="left">   \( \hbox{N/m}^2 = \hbox{Pa} \)        </td> <td align="left">   \( [\hbox{MLT}^{-2}\hbox{L}^{-2}] \)           </td> </tr>
<tr><td align="left">   density                   </td> <td align="left">   mass/volume                       </td> <td align="left">   \( \hbox{kg/m}^3 \)                   </td> <td align="left">   \( [\hbox{ML}^{-3}] \)                         </td> </tr>
<tr><td align="left">   strain                    </td> <td align="left">   displacement/length               </td> <td align="left">   1                                     </td> <td align="left">   \( [1] \)                                      </td> </tr>
<tr><td align="left">   Young's modulus           </td> <td align="left">   stress/strain                     </td> <td align="left">   \( \hbox{N/m}^2 = \hbox{Pa} \)        </td> <td align="left">   \( [\hbox{MLT}^{-2}\hbox{L}^{-2}] \)           </td> </tr>
<tr><td align="left">   Poisson's ratio           </td> <td align="left">   transverse strain/axial strain    </td> <td align="left">   1                                     </td> <td align="left">   \( [1] \)                                      </td> </tr>
<tr><td align="left">   moment (of a force)       </td> <td align="left">   force \( \times \) distance       </td> <td align="left">   Nm                                    </td> <td align="left">   \( [\hbox{ML}^2\hbox{T}^{-2}] \)               </td> </tr>
<tr><td align="left">   impulse                   </td> <td align="left">   force \( \times \) time           </td> <td align="left">   \( \hbox{Ns} \)                       </td> <td align="left">   \( [\hbox{MLT}^{-1}] \)                        </td> </tr>
<tr><td align="left">   linear momentum           </td> <td align="left">   force \( \times \) velocity       </td> <td align="left">   Nm/s                                  </td> <td align="left">   \( [\hbox{ML}^2\hbox{T}^{-3}] \)               </td> </tr>
<tr><td align="left">   work                      </td> <td align="left">   force \( \times \) distance       </td> <td align="left">   \( \hbox{Nm} = \hbox{J} \)            </td> <td align="left">   \( [\hbox{ML}^2\hbox{T}^{-2}] \)               </td> </tr>
<tr><td align="left">   energy                    </td> <td align="left">   work                              </td> <td align="left">   \( \hbox{Nm} = \hbox{J} \)            </td> <td align="left">   \( [\hbox{ML}^2\hbox{T}^{-2}] \)               </td> </tr>
<tr><td align="left">   power                     </td> <td align="left">   work/time                         </td> <td align="left">   \( \hbox{Nm/s} = \hbox{W} \)          </td> <td align="left">   \( [\hbox{ML}^2\hbox{T}^{-3}] \)               </td> </tr>
<tr><td align="left">   heat                      </td> <td align="left">   work                              </td> <td align="left">   J                                     </td> <td align="left">   \( [\hbox{ML}^2\hbox{T}^{-2}] \)               </td> </tr>
<tr><td align="left">   heat flux                 </td> <td align="left">   heat rate/area                    </td> <td align="left">   \( \hbox{Wm}^{-2} \)                  </td> <td align="left">   \( [\hbox{MT}^{-3}] \)                         </td> </tr>
<tr><td align="left">   temperature               </td> <td align="left">   base unit                         </td> <td align="left">   K                                     </td> <td align="left">   \( [\Theta] \)                                 </td> </tr>
<tr><td align="left">   heat capacity             </td> <td align="left">   heat change/temperature change    </td> <td align="left">   J/K                                   </td> <td align="left">   \( [\hbox{ML}^2\hbox{T}^{-2}\Theta^{-1}] \)    </td> </tr>
<tr><td align="left">   specific heat capacity    </td> <td align="left">   heat capacity/unit mass           </td> <td align="left">   \( \hbox{JK}^{-1}\hbox{kg}^{-1} \)    </td> <td align="left">   \( [\hbox{L}^2\hbox{T}^{-2}\Theta^{-1}] \)     </td> </tr>
<tr><td align="left">   thermal conductivity      </td> <td align="left">   heat flux/temperature gradient    </td> <td align="left">   \( \hbox{Wm}^{-1}\hbox{K}^{-1} \)     </td> <td align="left">   \( [\hbox{MLT}^{-3}\Theta^{-1}] \)             </td> </tr>
<tr><td align="left">   dynamic viscosity         </td> <td align="left">   shear stress/velocity gradient    </td> <td align="left">   \( \hbox{kgm}^{-1}\hbox{s}^{-1} \)    </td> <td align="left">   \( [\hbox{ML}^{-1}T^{-1}] \)                   </td> </tr>
<tr><td align="left">   kinematic viscosity       </td> <td align="left">   dynamic viscosity/density         </td> <td align="left">   \( [\hbox{m}^2/\hbox{s} \)            </td> <td align="left">   \( \hbox{L}^2\hbox{T}^{-1}] \)                 </td> </tr>
<tr><td align="left">   surface tension           </td> <td align="left">   energy/area                       </td> <td align="left">   \( [\hbox{J/m}^2 \)                   </td> <td align="left">   \( \hbox{MT}^{-2}] \)                          </td> </tr>
</tbody>
    </table>
  </div>
</div> <!-- col-xs-12 -->

<h3 id="___sec2">Prefixes </h3>

<p>
Units often have prefixes. For example, kilo is a prefix for 1000,
so kg is 1000 g. Similarly, GPa means giga pascal or \( 10^9 \) Pa.

<p>
Mathematically, it does not matter what units we use for a physical
quantity. However, when we deal with approximations and errors,
units are important. Suppose we work with a geophysical problem where
the length scale is typically measured in km and we have an approximation
12.5 km to the exact value 12.52 km. The error is then 0.02 km.
Switching units to mm leads to an error of 20,000 mm. A program working
in mm would report \( 2\cdot 10^5 \) as the error, while a program working
in km would print 0.02. The absolute error is therefore sensitive to
the choice of units. This fact motivates for the use of the <em>relative
error</em>: (exact - approximate)/exact since then the unit cancels.
In the present example, one gets a relative error of \( 1.6\cdot 10^{-3} \)
regardless of the whether the length is measured in km or mm.

<p>
Nevertheless, rather than relying solely on relative errors, it is in general
better to scale the problem such that the quantities entering the
computations are of unit size (or at least moderate) instead of being very
large or very small. The techniques of this document show how this
can be done.

<h3 id="___sec3">SI vs US/British systems </h3>

<p>
Confusion arises quickly when some physical quantities are expressed
in SI units while others are in US or British units.
Density could, for instance, be given in unit of ounce per teaspoon
(see <a href="._scale-sol009.html#sec:scale:exer:US2SI1">Exercise 1: Perform unit conversion</a> for how to safely
convert to a standard unit like \( \hbox{kg\,m}^{-3} \)).
Although unit conversion is a mathematical topic much trained
in school, errors in conversions between units probably rank highest
among all errors committed by engineers.
Having good software tools to assist in unit conversion is therefore
paramount, and this topic is treated next.
Readers who are primarily interested in the mathematical scaling
technique may safely jump over the sections <a href="#scale:PQ">PhysicalQuantity: object for computing with units</a> and <a href="#scale:parampool">Parampool: user interfaces with automatic unit conversion</a> and continue with
the section <a href="._scale-sol004.html#sec:scale:decay">Exponential decay</a>.

<h2 id="scale:PQ">PhysicalQuantity: object for computing with units</h2>

<p>
Computations with units are supported by the <code>PhysicalQuantity</code> object
from the <a href="https://bitbucket.org/khinsen/scientificpython" target="_self">ScientificPython package</a> by Konrad
Hinsen. Unfortunately, ScientificPython does not, at the time of this
writing, work with NumPy version 1.9 or later, so we have isolated the
<code>PhysicalQuantity</code> object in a module <a href="https://github.com/hplgit/physical-quantities" target="_self"><tt>PhysicalQuantities</tt></a>. There is also an
alternative package <a href="https://bitbucket.org/kiv/unum/" target="_self">Unum</a> for
computing with numbers with units, but we shall stick to the former
module here.

<p>
Let us demonstrate the usage of the <code>PhysicalQuantity</code> object
by computing \( s=vt \), where \( v \) is a velocity given
with unit yards per minute and \( t \) is time measured in hours.
Run <code>pydoc PhysicalQuantities</code>, or

<p>

<!-- code=text (!bc sys) typeset with pygments style "default" -->
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%">Terminal&gt; pydoc Scientific.Physics.PhysicalQuantities
</pre></div>
<p>
if you have ScientificPython installed, to see what the name of
the units are. Yards are specified by <code>yd</code>, minutes by <code>min</code>, and hours
by <code>h</code>. We can now compute \( s=vt \) as follows:

<p>

<!-- code=python (!bc pyshell) typeset with pygments style "default" -->
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%"><span style="color: #666666">&gt;&gt;&gt;</span> <span style="color: #408080; font-style: italic"># With ScientificPython:</span>
<span style="color: #666666">&gt;&gt;&gt;</span> <span style="color: #008000; font-weight: bold">from</span> <span style="color: #0000FF; font-weight: bold">Scientific.Physics.PhysicalQuantities</span> <span style="color: #008000; font-weight: bold">import</span> \ 
<span style="color: #666666">...</span> PhysicalQuantity <span style="color: #008000; font-weight: bold">as</span> PQ
<span style="color: #666666">&gt;&gt;&gt;</span> <span style="color: #408080; font-style: italic"># With PhysicalQuantities as separate/stand-alone module:</span>
<span style="color: #666666">&gt;&gt;&gt;</span> <span style="color: #008000; font-weight: bold">from</span> <span style="color: #0000FF; font-weight: bold">PhysicalQuantities</span> <span style="color: #008000; font-weight: bold">import</span> PhysicalQuantity <span style="color: #008000; font-weight: bold">as</span> PQ
<span style="color: #666666">&gt;&gt;&gt;</span>
<span style="color: #666666">&gt;&gt;&gt;</span> v <span style="color: #666666">=</span> PQ(<span style="color: #BA2121">&#39;120 yd/min&#39;</span>)   <span style="color: #408080; font-style: italic"># velocity</span>
<span style="color: #666666">&gt;&gt;&gt;</span> t <span style="color: #666666">=</span> PQ(<span style="color: #BA2121">&#39;1 h&#39;</span>)          <span style="color: #408080; font-style: italic"># time</span>
<span style="color: #666666">&gt;&gt;&gt;</span> s <span style="color: #666666">=</span> v<span style="color: #666666">*</span>t                <span style="color: #408080; font-style: italic"># distance</span>
<span style="color: #666666">&gt;&gt;&gt;</span> <span style="color: #008000; font-weight: bold">print</span> s                <span style="color: #408080; font-style: italic"># s is string</span>
<span style="color: #666666">120.0</span> h<span style="color: #666666">*</span>yd<span style="color: #666666">/</span><span style="color: #008000">min</span>
</pre></div>
<p>
The odd unit <code>h*yd/min</code> is better converted to a standard SI unit such
as meter:

<p>

<!-- code=python (!bc pyshell) typeset with pygments style "default" -->
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%"><span style="color: #666666">&gt;&gt;&gt;</span> s<span style="color: #666666">.</span>convertToUnit(<span style="color: #BA2121">&#39;m&#39;</span>)
<span style="color: #666666">&gt;&gt;&gt;</span> <span style="color: #008000; font-weight: bold">print</span> s
<span style="color: #666666">6583.68</span> m
</pre></div>
<p>
Note that <code>s</code> is a <code>PhysicalQuantity</code> object with a value and a
unit. For mathematical computations we need to extract the
value as a <code>float</code> object. We can also extract the unit as a string:

<p>

<!-- code=python (!bc pyshell) typeset with pygments style "default" -->
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%"><span style="color: #666666">&gt;&gt;&gt;</span> <span style="color: #008000; font-weight: bold">print</span> s<span style="color: #666666">.</span>getValue()     <span style="color: #408080; font-style: italic"># float</span>
<span style="color: #666666">6583.68</span>
<span style="color: #666666">&gt;&gt;&gt;</span> <span style="color: #008000; font-weight: bold">print</span> s<span style="color: #666666">.</span>getUnitName()  <span style="color: #408080; font-style: italic"># string</span>
m
</pre></div>
<p>
Here is an example on how to convert the odd velocity unit yards per
minute to something more standard:

<p>

<!-- code=python (!bc pyshell) typeset with pygments style "default" -->
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%"><span style="color: #666666">&gt;&gt;&gt;</span> v<span style="color: #666666">.</span>convertToUnit(<span style="color: #BA2121">&#39;km/h&#39;</span>)
<span style="color: #666666">&gt;&gt;&gt;</span> <span style="color: #008000; font-weight: bold">print</span> v
<span style="color: #666666">6.58368</span> km<span style="color: #666666">/</span>h
<span style="color: #666666">&gt;&gt;&gt;</span> v<span style="color: #666666">.</span>convertToUnit(<span style="color: #BA2121">&#39;m/s&#39;</span>)
<span style="color: #666666">&gt;&gt;&gt;</span> <span style="color: #008000; font-weight: bold">print</span> v
<span style="color: #666666">1.8288</span> m<span style="color: #666666">/</span>s
</pre></div>
<p>
<!-- Sometimes you find physical quantities in the literature or on the web -->
<!-- with units that you do not want to use. The <code>convertToUnit</code> method is -->
<!-- then handy. -->
As another example on unit conversion,
say you look up the specific heat capacity of water to
be 1 \( \hbox{cal}\, \hbox{g}^{-1}\hbox{K}^{-1} \). What is the
corresponding value in the standard unit \( \hbox{Jg}^{-1}\hbox{K}^{-1} \)
where joule replaces calorie?

<p>

<!-- code=python (!bc pyshell) typeset with pygments style "default" -->
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%"><span style="color: #666666">&gt;&gt;&gt;</span> c <span style="color: #666666">=</span> PQ(<span style="color: #BA2121">&#39;1 cal/(g*K)&#39;</span>)
<span style="color: #666666">&gt;&gt;&gt;</span> c<span style="color: #666666">.</span>convertToUnit(<span style="color: #BA2121">&#39;J/(g*K)&#39;</span>)
<span style="color: #666666">&gt;&gt;&gt;</span> <span style="color: #008000; font-weight: bold">print</span> c
<span style="color: #666666">4.184</span> J<span style="color: #666666">/</span>K<span style="color: #666666">/</span>g
</pre></div>

<h2 id="scale:parampool">Parampool: user interfaces with automatic unit conversion</h2>

<p>
The <a href="https://github.com/hplgit/parampool" target="_self">Parampool</a> package allows
creation of user interfaces with support for units and unit
conversion. Values of parameters can be set as a number with a
unit. The parameters can be registered beforehand with a preferred
unit, and whatever the user prescribes, the value and unit are
converted so the unit becomes the registered unit. Parampool supports
various type of user interfaces: command-line arguments (option-value
pairs), text files, and interactive web pages. All of these
are described next.

<h3 id="___sec6">Example application </h3>

<p>
As case, we want to make software for computing with the simple
formula \( s=v_0t + \frac{1}{2}at^2 \). We want \( v_0 \) to be a velocity
with unit m/s, \( a \) to acceleration with unit \( \hbox{m/s}^2 \), \( t \) to be
time measured in s, and consequently \( s \) is a distance measured in m.

<h3 id="___sec7">Pool </h3>

<p>
First, Parampool requires us to define a <em>pool</em> of all input
parameters, which is here simply represented by list of dictionaries, where each
dictionary holds information about one parameter. It is possible to
organize input parameters in a tree structure with subpools having
subpools,
but for our simple application we just need a flat structure with
three input parameters:
\( v_0 \), \( a \), and \( t \). These parameters are put in a subpool called
&quot;Main&quot;. The pool is created by the code

<p>

<!-- code=python (!bc pycod) typeset with pygments style "default" -->
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%"><span style="color: #008000; font-weight: bold">def</span> <span style="color: #0000FF">define_input</span>():
    pool <span style="color: #666666">=</span> [
        <span style="color: #BA2121">&#39;Main&#39;</span>, [
            <span style="color: #008000">dict</span>(name<span style="color: #666666">=</span><span style="color: #BA2121">&#39;initial velocity&#39;</span>, default<span style="color: #666666">=1.0</span>, unit<span style="color: #666666">=</span><span style="color: #BA2121">&#39;m/s&#39;</span>),
            <span style="color: #008000">dict</span>(name<span style="color: #666666">=</span><span style="color: #BA2121">&#39;acceleration&#39;</span>, default<span style="color: #666666">=1.0</span>, unit<span style="color: #666666">=</span><span style="color: #BA2121">&#39;m/s**2&#39;</span>),
            <span style="color: #008000">dict</span>(name<span style="color: #666666">=</span><span style="color: #BA2121">&#39;time&#39;</span>, default<span style="color: #666666">=10.0</span>, unit<span style="color: #666666">=</span><span style="color: #BA2121">&#39;s&#39;</span>)
            ]
        ]

    <span style="color: #008000; font-weight: bold">from</span> <span style="color: #0000FF; font-weight: bold">parampool.pool.UI</span> <span style="color: #008000; font-weight: bold">import</span> listtree2Pool
    pool <span style="color: #666666">=</span> listtree2Pool(pool)  <span style="color: #408080; font-style: italic"># convert list to Pool object</span>
    <span style="color: #008000; font-weight: bold">return</span> pool
</pre></div>
<p>
For each parameter we can define a logical name, such as <code>initial velocity</code>,
a default value, and a unit. Additional properties
are also allowed, see the <a href="http://hplgit.github.io/parampool/doc/web/index.html" target="_self">Parampool documentation</a>.

<p>
<div class="alert alert-block alert-success alert-text-normal"><b>Tip: specify default values of numbers as float objects.</b>
Note that we write 1.0 as default value and not just 1.
In the latter case, Parampool will interpret that our parameter is
an integer and actually convert input like <code>2.5 m/s</code> to <code>2 m/s</code>.
To ensure that a real-valued parameter becomes a <code>float</code> object inside
the pool, specify the default value as a real number: <code>1.</code> or <code>1.0</code>.
(The type of an input parameter can alternatively be explicitly set by
the <code>str2type</code> property, e.g., <code>str2type=float</code>.)
</div>


<h3 id="___sec8">Fetching pool data and computing \( s \) </h3>

<p>
We can make a little function for fetching values from the pool
and computing \( s \):

<p>

<!-- code=python (!bc pycod) typeset with pygments style "default" -->
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%"><span style="color: #008000; font-weight: bold">def</span> <span style="color: #0000FF">distance</span>(pool):
    v_0 <span style="color: #666666">=</span> pool<span style="color: #666666">.</span>get_value(<span style="color: #BA2121">&#39;initial velocity&#39;</span>)
    a <span style="color: #666666">=</span> pool<span style="color: #666666">.</span>get_value(<span style="color: #BA2121">&#39;acceleration&#39;</span>)
    t <span style="color: #666666">=</span> pool<span style="color: #666666">.</span>get_value(<span style="color: #BA2121">&#39;time&#39;</span>)
    s <span style="color: #666666">=</span> v_0<span style="color: #666666">*</span>t <span style="color: #666666">+</span> <span style="color: #666666">0.5*</span>a<span style="color: #666666">*</span>t<span style="color: #666666">**2</span>
    <span style="color: #008000; font-weight: bold">return</span> s
</pre></div>
<p>
The <code>pool.get_value</code> function returns the numerical value of
the named parameter, after the unit has been converted from what the
user has specified to what was registered in the pool.
For example, if the user provides the command-line argument
<code>--time '2 h'</code>, Parampool will convert this quantity to seconds and
<code>pool.get_value('time')</code> will return 7200.

<h3 id="___sec9">Reading command-line options </h3>

<p>
To run the computations, we define the pool, load values from the
command line, and call <code>distance</code>:

<p>

<!-- code=python (!bc pycod) typeset with pygments style "default" -->
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%">pool <span style="color: #666666">=</span> define_input()
<span style="color: #008000; font-weight: bold">from</span> <span style="color: #0000FF; font-weight: bold">parampool.menu.UI</span> <span style="color: #008000; font-weight: bold">import</span> set_values_from_command_line
pool <span style="color: #666666">=</span> set_values_from_command_line(pool)

s <span style="color: #666666">=</span> distance(pool)
<span style="color: #008000; font-weight: bold">print</span> <span style="color: #BA2121">&#39;s=</span><span style="color: #BB6688; font-weight: bold">%g</span><span style="color: #BA2121">&#39;</span> <span style="color: #666666">%</span> s
</pre></div>
<p>
Parameter names with whitespace must use an underscore for whitespace
in the command-line option, such as in <code>--Initial_velocity</code>.
We can now run

<p>

<!-- code=text (!bc sys) typeset with pygments style "default" -->
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%">Terminal&gt; python distance.py --initial_velocity &#39;10 km/h&#39; \ 
          --acceleration 0 --time &#39;1 h
s=10000
</pre></div>
<p>
Notice from the answer (<code>s</code>) that 10 km/h gets converted to m/s and 1 h to s.

<p>
It is also possible to fetch parameter values as <code>PhysicalQuantity</code>
objects from the pool through calling

<p>

<!-- code=python (!bc pycod) typeset with pygments style "default" -->
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%">v_0 <span style="color: #666666">=</span> pool<span style="color: #666666">.</span>get_value_unit(<span style="color: #BA2121">&#39;Initial velocity&#39;</span>)
</pre></div>
<p>
The following variant of the <code>distance</code> function computes with
values and units:

<p>

<!-- code=python (!bc pycod) typeset with pygments style "default" -->
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%"><span style="color: #008000; font-weight: bold">def</span> <span style="color: #0000FF">distance_unit</span>(pool):
    <span style="color: #BA2121; font-style: italic">&quot;&quot;&quot;Compute distance $s = v_0t + \frac{1}{2}at^2$. (DocOnce)&quot;&quot;&quot;</span>
    <span style="color: #408080; font-style: italic"># Compute with units</span>
    <span style="color: #008000; font-weight: bold">from</span> <span style="color: #0000FF; font-weight: bold">parampool.PhysicalQuantities</span> <span style="color: #008000; font-weight: bold">import</span> PhysicalQuantity <span style="color: #008000; font-weight: bold">as</span> PQ
    v_0 <span style="color: #666666">=</span> pool<span style="color: #666666">.</span>get_value_unit(<span style="color: #BA2121">&#39;initial velocity&#39;</span>)
    a <span style="color: #666666">=</span> pool<span style="color: #666666">.</span>get_value_unit(<span style="color: #BA2121">&#39;acceleration&#39;</span>)
    t <span style="color: #666666">=</span> pool<span style="color: #666666">.</span>get_value_unit(<span style="color: #BA2121">&#39;time&#39;</span>)
    s <span style="color: #666666">=</span> v_0<span style="color: #666666">*</span>t <span style="color: #666666">+</span> <span style="color: #666666">0.5*</span>a<span style="color: #666666">*</span>t<span style="color: #666666">**2</span>
    <span style="color: #008000; font-weight: bold">return</span> s<span style="color: #666666">.</span>getValue(), s<span style="color: #666666">.</span>getUnitName()
</pre></div>
<p>
We can then do

<p>

<!-- code=python (!bc pycod) typeset with pygments style "default" -->
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%">s, s_unit <span style="color: #666666">=</span> distance_unit(pool)
<span style="color: #008000; font-weight: bold">print</span> <span style="color: #BA2121">&#39;s=</span><span style="color: #BB6688; font-weight: bold">%g</span><span style="color: #BA2121">&#39;</span> <span style="color: #666666">%</span> s, s_unit
</pre></div>
<p>
and get output with the right unit as well.

<h3 id="___sec10">Setting default values in a file </h3>

<p>
In large applications with lots of input parameters one will often like
to define a (huge) set of default values specific for a case and then
override a few of them on the command-line. Such sets of default values
can be set in a file using syntax like

<p>

<!-- code=python (!bc pycod) typeset with pygments style "default" -->
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%">subpool Main
initial velocity <span style="color: #666666">=</span> <span style="color: #666666">100</span> ! yd<span style="color: #666666">/</span><span style="color: #008000">min</span>
acceleration <span style="color: #666666">=</span> <span style="color: #666666">0</span> ! m<span style="color: #666666">/</span>s<span style="color: #666666">**2</span>         <span style="color: #408080; font-style: italic"># drop acceleration</span>
end
</pre></div>
<p>
The unit can be given after the <code>!</code> symbol (and before the comment symbol <code>#</code>).

<p>
To read such files we have to add the lines

<p>

<!-- code=python (!bc pycod) typeset with pygments style "default" -->
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%"><span style="color: #008000; font-weight: bold">from</span> <span style="color: #0000FF; font-weight: bold">parampool.pool.UI</span> <span style="color: #008000; font-weight: bold">import</span> set_defaults_from_file
pool <span style="color: #666666">=</span> set_defaults_from_file(pool)
</pre></div>
<p>
before the call to <code>set_defaults_from_command_line</code>.

<p>
If the above commands are stored in a file <code>distance.dat</code>, we give
this file information to the program through the
option <code>--poolfile distance.dat</code>. Running just

<p>

<!-- code=text (!bc sys) typeset with pygments style "default" -->
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%">Terminal&gt; python distance.py --poolfile distance.dat
s=15.25 m
</pre></div>
<p>
first loads the velocity
100 yd/min converted to 1.524 m/s and zero acceleration
into the pool system and, and then we call <code>distance_unit</code>, which
loads these values from the pool along with the default value for
time, set as 10 s. The calculation is then \( s=1.524\cdot 10 + 0=15.24 \)
with unit m. We can override the time and/or the other two
parameters on the command line:

<p>

<!-- code=text (!bc sys) typeset with pygments style "default" -->
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%">Terminal&gt; python distance.py --poolfile distance.dat --time &#39;2 h&#39;
s=10972.8 m
</pre></div>
<p>
The resulting calculations are \( s=1.524\cdot 7200 + 0 =10972.8 \).
You are encouraged to play around with the <a href="http://tinyurl.com/nm5587k/scale/distance.py" target="_self"><tt>distance.py</tt></a> program.

<h3 id="___sec11">Specifying multiple values of input parameters </h3>

<p>
Parampool has an interesting feature: multiple values can be assigned
to an input parameter, thereby making it easy for an application to
run through all combinations of all parameters.
We can demonstrate this feature by making a table of \( v_0 \), \( a \), \( t \), and
\( s \) values. In the compute function, we need to call <code>pool.get_values</code>
instead of <code>pool.get_value</code> to get a list of all the values that
were specified for the parameter in question. By nesting loops over
all parameters, we visit all combinations of all parameters as
specified by the user:

<p>

<!-- code=python (!bc pycod) typeset with pygments style "default" -->
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%"><span style="color: #008000; font-weight: bold">def</span> <span style="color: #0000FF">distance_table</span>(pool):
    <span style="color: #BA2121; font-style: italic">&quot;&quot;&quot;Grab multiple values of parameters from the pool.&quot;&quot;&quot;</span>
    table <span style="color: #666666">=</span> []
    <span style="color: #008000; font-weight: bold">for</span> v_0 <span style="color: #AA22FF; font-weight: bold">in</span> pool<span style="color: #666666">.</span>get_values(<span style="color: #BA2121">&#39;initial velocity&#39;</span>):
        <span style="color: #008000; font-weight: bold">for</span> a <span style="color: #AA22FF; font-weight: bold">in</span> pool<span style="color: #666666">.</span>get_values(<span style="color: #BA2121">&#39;acceleration&#39;</span>):
            <span style="color: #008000; font-weight: bold">for</span> t <span style="color: #AA22FF; font-weight: bold">in</span> pool<span style="color: #666666">.</span>get_values(<span style="color: #BA2121">&#39;time&#39;</span>):
                s <span style="color: #666666">=</span> v_0<span style="color: #666666">*</span>t <span style="color: #666666">+</span> <span style="color: #666666">0.5*</span>a<span style="color: #666666">*</span>t<span style="color: #666666">**2</span>
                table<span style="color: #666666">.</span>append((v_0, a, t, s))
    <span style="color: #008000; font-weight: bold">return</span> table
</pre></div>
<p>
In case just a single value was specified for a parameter, <code>pool.get_values</code>
returns this value only and there will be only one pass in the associated
loop.

<p>
After loading command-line arguments into our <code>pool</code> object, we can call
<code>distance_table</code> instead of <code>distance</code> or <code>distance_unit</code> and
write out a nicely formatted table of results:

<p>

<!-- code=python (!bc pycod) typeset with pygments style "default" -->
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%">table <span style="color: #666666">=</span> distance_table(pool)
<span style="color: #008000; font-weight: bold">print</span> <span style="color: #BA2121">&#39;|-----------------------------------------------------|&#39;</span>
<span style="color: #008000; font-weight: bold">print</span> <span style="color: #BA2121">&#39;|      v_0   |      a     |      t     |      s       |&#39;</span>
<span style="color: #008000; font-weight: bold">print</span> <span style="color: #BA2121">&#39;|-----------------------------------------------------|&#39;</span>
<span style="color: #008000; font-weight: bold">for</span> v_0, a, t, s <span style="color: #AA22FF; font-weight: bold">in</span> table:
    <span style="color: #008000; font-weight: bold">print</span> <span style="color: #BA2121">&#39;|</span><span style="color: #BB6688; font-weight: bold">%11.3f</span><span style="color: #BA2121"> | </span><span style="color: #BB6688; font-weight: bold">%10.3f</span><span style="color: #BA2121"> | </span><span style="color: #BB6688; font-weight: bold">%10.3f</span><span style="color: #BA2121"> | </span><span style="color: #BB6688; font-weight: bold">%12.3f</span><span style="color: #BA2121"> |&#39;</span> <span style="color: #666666">%</span> (v_0, a, t, s)
<span style="color: #008000; font-weight: bold">print</span> <span style="color: #BA2121">&#39;|-----------------------------------------------------|&#39;</span>
</pre></div>
<p>
Here is a sample run,

<p>

<!-- code=text (!bc sys) typeset with pygments style "default" -->
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%">Terminal&gt; python distance.py --time &#39;1 h &amp; 2 h &amp; 3 h&#39; \ 
          --acceleration &#39;0 m/s**2 &amp; 1 m/s**2 &amp; 1 yd/s**2&#39; \ 
	  --initial_velocity &#39;1 &amp; 5&#39;
|-----------------------------------------------------|
|      v_0   |      a     |      t     |      s       |
|-----------------------------------------------------|
|      1.000 |      0.000 |   3600.000 |     3600.000 |
|      1.000 |      0.000 |   7200.000 |     7200.000 |
|      1.000 |      0.000 |  10800.000 |    10800.000 |
|      1.000 |      1.000 |   3600.000 |  6483600.000 |
|      1.000 |      1.000 |   7200.000 | 25927200.000 |
|      1.000 |      1.000 |  10800.000 | 58330800.000 |
|      1.000 |      0.914 |   3600.000 |  5928912.000 |
|      1.000 |      0.914 |   7200.000 | 23708448.000 |
|      1.000 |      0.914 |  10800.000 | 53338608.000 |
|      5.000 |      0.000 |   3600.000 |    18000.000 |
|      5.000 |      0.000 |   7200.000 |    36000.000 |
|      5.000 |      0.000 |  10800.000 |    54000.000 |
|      5.000 |      1.000 |   3600.000 |  6498000.000 |
|      5.000 |      1.000 |   7200.000 | 25956000.000 |
|      5.000 |      1.000 |  10800.000 | 58374000.000 |
|      5.000 |      0.914 |   3600.000 |  5943312.000 |
|      5.000 |      0.914 |   7200.000 | 23737248.000 |
|      5.000 |      0.914 |  10800.000 | 53381808.000 |
|-----------------------------------------------------|
</pre></div>
<p>
Notice that some of the multiple values have dimensions different
from the registered dimension for that parameter, and the table
shows that conversion to the right dimension has taken place.

<h3 id="___sec12">Generating a graphical user interface </h3>

<p>
For the fun of it, we can easily generate a graphical user interface
via Parampool. We wrap the <code>distance_unit</code> function in a function that
returns the result is some nice-looking HTML code:

<p>

<!-- code=python (!bc pycod) typeset with pygments style "default" -->
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%"><span style="color: #008000; font-weight: bold">def</span> <span style="color: #0000FF">distance_unit2</span>(pool):
    <span style="color: #408080; font-style: italic"># Wrap result from distance_unit in HTML</span>
    s, s_unit <span style="color: #666666">=</span> distance_unit(pool)
    <span style="color: #008000; font-weight: bold">return</span> <span style="color: #BA2121">&#39;&lt;b&gt;Distance:&lt;/b&gt; </span><span style="color: #BB6688; font-weight: bold">%.2f</span><span style="color: #BA2121"> </span><span style="color: #BB6688; font-weight: bold">%s</span><span style="color: #BA2121">&#39;</span> <span style="color: #666666">%</span> (s, s_unit)
</pre></div>
<p>
In addition, we must make a file <code>generate_distance_GUI.py</code> with the
simple content

<p>

<!-- code=python (!bc pypro) typeset with pygments style "default" -->
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%"><span style="color: #008000; font-weight: bold">from</span> <span style="color: #0000FF; font-weight: bold">parampool.generator.flask</span> <span style="color: #008000; font-weight: bold">import</span> generate
<span style="color: #008000; font-weight: bold">from</span> <span style="color: #0000FF; font-weight: bold">distance</span> <span style="color: #008000; font-weight: bold">import</span> distance_unit2, define_input

generate(distance_unit2, pool_function<span style="color: #666666">=</span>define_input, MathJax<span style="color: #666666">=</span><span style="color: #008000">True</span>)
</pre></div>
<p>
Running <code>generate_distance_GUI.py</code> creates a Flask-based web
interface <button type="button" class="btn btn-primary btn-xs" rel="tooltip" data-placement="top" title="You need to have Flask and additional packages installed. This is easy to do with a few pip install commands, see <a href="._scale-sol010.html#parampool">[3]</a> or <a href="._scale-sol010.html#web4sciapps">[4]</a>."><a href="#def_footnote_1" id="link_footnote_1" style="color: white">1</a></button>
to our <code>distance_unit</code> function, see Figure <a href="#scale:dimunit:fig:GUI">1</a>.
The text fields in this GUI allow specification of parameters with
numbers and units, e.g., acceleration with unit yards per minute squared,
as shown in the figure. Hovering the mouse slightly to the left of
the text field causes a little black window to pop up with the registered unit
of that parameter.

<p id="def_footnote_1"><a href="#link_footnote_1"><b>1:</b></a> You need to have Flask and additional packages installed.
This is easy to do with a few <code>pip install</code> commands,
see <a href="._scale-sol010.html#parampool">[3]</a> or <a href="._scale-sol010.html#web4sciapps">[4]</a>.</p>

<p>
<center> <!-- figure -->
<hr class="figure">
<center><p class="caption">Figure 1:  Web GUI where parameters can be specified with units. <div id="scale:dimunit:fig:GUI"></div> </p></center>
<p><img src="fig-scale/distance_GUI.png" align="bottom" width=400></p>
</center>

<p>
With examples shown above, you should be able to utilize the
<code>PhysicalQuantity</code> object and the Parampool package in your programs
to work safely with units. For the coming text, where we discuss the
craft of scaling in detail, we shall just work in standard SI units
and avoid unit conversion so there will be no more use of
<code>PhysicalQuantity</code> and Parampool.

<p>
<p>
<!-- navigation buttons at the bottom of the page -->
<ul class="pager">
  <li class="previous">
    <a href="._scale-sol002.html">&larr; Prev</a>
  </li>
  <li class="next">
    <a href="._scale-sol004.html">Next &rarr;</a>
  </li>
</ul>
<!-- ------------------- end of main content --------------- -->

</div>  <!-- end container -->
<!-- include javascript, jQuery *first* -->
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
<script src="http://netdna.bootstrapcdn.com/bootstrap/3.0.0/js/bootstrap.min.js"></script>

<!-- Bootstrap footer
<footer>
<a href="http://..."><img width="250" align=right src="http://..."></a>
</footer>
-->


</body>
</html>
    

