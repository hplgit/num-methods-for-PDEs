

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Performing scientific experiments</title>
    
    <link rel="stylesheet" href="_static/default.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '1.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="_static/sidebar.js"></script>

        <script src="http://sagecell.sagemath.org/static/jquery.min.js"></script>
        <script src="http://sagecell.sagemath.org/static/embedded_sagecell.js"></script>

        <script>sagecell.makeSagecell({inputLocation: ".sage"});</script>

        <style type="text/css">
                .sagecell .CodeMirror-scroll {
                        overflow-y: hidden;
                        overflow-x: auto;
                }
                .sagecell .CodeMirror {
                        height: auto;
                }
        </style>

    
    <link rel="top" title="Scientific software engineering with a simple ODE model as example" href="index.html" />
    <link rel="next" title="Exercises" href="._main_softeng1004.html" />
    <link rel="prev" title="Software engineering" href="._main_softeng1002.html" />
 
  
   <style type="text/css">
     div.admonition {
       background-color: whiteSmoke;
       border: 1px solid #bababa;
     }
   </style>
  </head>

  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="._main_softeng1004.html" title="Exercises"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="._main_softeng1002.html" title="Software engineering"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">Scientific software engineering with a simple ODE model as example</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="performing-scientific-experiments">
<span id="decay-experiments"></span><h1>Performing scientific experiments<a class="headerlink" href="#performing-scientific-experiments" title="Permalink to this headline">¶</a></h1>
<span class="target" id="index-0"></span><div class="admonition-goal admonition" id="index-1">
<p class="first admonition-title">Goal</p>
<p class="last">This section explores the behavior of a numerical
method for a differential equation through computer experiments.
In particular, it is shown how scientific experiments
can be set up and reported. We address the ODE problem</p>
</div>
<div class="math" id="equation-decay:experiments:model">
<span id="eq-decay-experiments-model"></span><span class="eqno">(1)</span>\[        u'(t) = -au(t),\quad u(0)=I,\quad t\in (0,T],\]\[numerically discretized by the  \( \theta \) -rule:\]\[.. math::\]\[        u^{n+1} = \frac{1 - (1-\theta) a\Delta t}{1 + \theta a\Delta t}u^n,
        \quad u^0=I{\thinspace .}\]\[
Our aim is to plot  \( u^0,u^1,\ldots,u^N \) 
together with the exact solution  \( {u_{\small\mbox{e}}} = Ie^{-at} \) 
for various choices of the parameters in this numerical problem:
 \( I \) ,  \( a \) ,  \( \Delta t \) , and  \( \theta \) . We are especially interested
in how the discrete solution compares with the exact solution
when the  \( \Delta t \)  parameter is varied and  \( \theta \)  takes on the three values
corresponding to the Forward Euler, Backward Euler, and Crank-Nicolson
schemes ( \( \theta=0,1,0.5 \) , respectively).\]</div>
<div class="section" id="software">
<h2>Software<a class="headerlink" href="#software" title="Permalink to this headline">¶</a></h2>
<p>A verified implementation for computing the numerical
solution <span class="math">\(u^n\)</span> and plotting it together
with the exact solution <span class="math">\({u_{\small\mbox{e}}}\)</span> is found in the file
<a class="reference external" href="http://tinyurl.com/nm5587k/softeng1/decay_mod.py">decay_mod.py</a>.
This program admits command-line arguments to specify a series of
<span class="math">\(\Delta t\)</span> values and will run a loop over these values and
<span class="math">\(\theta=0,0.5,1\)</span>. We make a slight edit of how the plots are
designed: the numerical solution is specified with line type <tt class="docutils literal"><span class="pre">'r--o'</span></tt>
(dashed red lines with dots at the mesh points), and the <tt class="docutils literal"><span class="pre">show()</span></tt>
command is removed to avoid a lot of plot windows popping up on
the computer screen (but hardcopies of the plot are still stored
in files via <tt class="docutils literal"><span class="pre">savefig</span></tt>). The slightly
modified program has the name
<a class="reference external" href="http://tinyurl.com/nm5587k/softeng1/experiments/decay_mod.py">experiments/decay_mod.py</a>.
All files associated with the scientific investigation are collected
in a subdirectory <tt class="docutils literal"><span class="pre">experiments</span></tt>.</p>
<p>Running the experiments is easy since the <tt class="docutils literal"><span class="pre">decay_mod.py</span></tt> program
already has the loops over <span class="math">\(\theta\)</span> and <span class="math">\(\Delta t\)</span> implemented.
An experiment with <span class="math">\(I=1\)</span>, <span class="math">\(a=2\)</span>, <span class="math">\(T=5\)</span>, and <span class="math">\(dt=0.5, 0.25, 0.1, 0.05\)</span>
is run by</p>
<div class="highlight-text"><div class="highlight"><pre>Terminal&gt; python decay_mod.py --I 1 --a 2 --makeplot \
          --T 5 --dt 0.5 0.25 0.1 0.05
</pre></div>
</div>
</div>
<div class="section" id="combining-plot-files">
<h2>Combining plot files<a class="headerlink" href="#combining-plot-files" title="Permalink to this headline">¶</a></h2>
<p>The <tt class="docutils literal"><span class="pre">decay_mod.py</span></tt> program generates a lot of image files, e.g.,
<tt class="docutils literal"><span class="pre">FE_*.png</span></tt>, <tt class="docutils literal"><span class="pre">BE_*.png</span></tt>, and <tt class="docutils literal"><span class="pre">CN_*.png</span></tt>.
We want to combine all the <tt class="docutils literal"><span class="pre">FE_*.png</span></tt> files in a table
fashion in one file, with two images in each row,
starting with the largest <span class="math">\(\Delta t\)</span> in the upper
left corner and decreasing the value as we go to the right and down.
This can be done using the <a class="reference external" href="http://www.imagemagick.org/script/montage.php">montage</a> program. The often occurring white areas around the plots can
be cropped away by the <tt class="docutils literal"><span class="pre">convert</span> <span class="pre">-trim</span></tt> command.
The remaining white can be made transparent for HTML pages with a
non-white background by the command <tt class="docutils literal"><span class="pre">convert</span> <span class="pre">-transparent</span> <span class="pre">white</span></tt>.</p>
<p>Also plot files in the PDF format with names <tt class="docutils literal"><span class="pre">FE_*.pdf</span></tt>, <tt class="docutils literal"><span class="pre">BE_*.pdf</span></tt>,
and <tt class="docutils literal"><span class="pre">CN_*.pdf</span></tt> are generated and these should be combined using other
tools: <tt class="docutils literal"><span class="pre">pdftk</span></tt> to combine individual plots into one file with one plot
per page, and <tt class="docutils literal"><span class="pre">pdfnup</span></tt> to combine the pages into a table with multiple
plots per page. The resulting image often has some extra surrounding
white space that can be removed by the <tt class="docutils literal"><span class="pre">pdfcrop</span></tt> program.
The code snippets below contain all details about the
usage of <tt class="docutils literal"><span class="pre">montage</span></tt>, <tt class="docutils literal"><span class="pre">convert</span></tt>, <tt class="docutils literal"><span class="pre">pdftk</span></tt>, <tt class="docutils literal"><span class="pre">pdfnup</span></tt>, and <tt class="docutils literal"><span class="pre">pdfcrop</span></tt>.</p>
<p id="index-2">Running manual commands is boring, and errors may easily
sneak in. Both for automating manual work and documenting the
operating system commands we actually issued in the experiment,
we should write a <em>script</em> (little program). An alternative is
to write the commands into an IPython notebook and use the
notebook as the script. A plain script as a standard Python
program in a separate text file will be used here.</p>
<div class="admonition-reproducible-science admonition">
<p class="first admonition-title">Reproducible science</p>
<p class="last">A script that automates running our computer experiments
will ensure
that the experiments can easily be rerun by ourselves or others in
the future, either to check the results or redo the experiments with
other input data. Also, whatever we did to produce the results is
documented in every detail in the script.
Automating scripts are therefore essential to making our
research <em>reproducible</em>, which is a fundamental principle in science.</p>
</div>
<p>The script takes
a list of <span class="math">\(\Delta t\)</span> values on the command line as input and
makes three combined images, one for each <span class="math">\(\theta\)</span> value,
displaying the quality of the numerical solution as <span class="math">\(\Delta t\)</span>
varies. For example,</p>
<div class="highlight-text"><div class="highlight"><pre>Terminal&gt; python decay_exper0.py 0.5 0.25 0.1 0.05
</pre></div>
</div>
<p>results in images <tt class="docutils literal"><span class="pre">FE.png</span></tt>, <tt class="docutils literal"><span class="pre">CN.png</span></tt>, <tt class="docutils literal"><span class="pre">BE.png</span></tt>,
<tt class="docutils literal"><span class="pre">FE.pdf</span></tt>, <tt class="docutils literal"><span class="pre">CN.pdf</span></tt>, and <tt class="docutils literal"><span class="pre">BE.pdf</span></tt>,
each with four plots corresponding to the four <span class="math">\(\Delta t\)</span> values.
Each plot compares the numerical solution with the exact one.
The latter image is shown in Figure <a class="reference internal" href="#decay-experiments-fig-be4a"><em>Illustration of the Backward Euler method for four time step values</em></a>.</p>
<div class="figure" id="decay-experiments-fig-be4a">
<a class="reference internal image-reference" href="_images/BE4a.png"><img alt="_images/BE4a.png" src="_images/BE4a.png" style="width: 600px;" /></a>
<p class="caption"><em>Illustration of the Backward Euler method for four time step values</em></p>
</div>
<p>Ideally, the script should be scalable in the sense that it works for
any number of <span class="math">\(\Delta t\)</span> values, which is the case for this particular
implementation:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">os</span><span class="o">,</span> <span class="nn">sys</span>

<span class="k">def</span> <span class="nf">run_experiments</span><span class="p">(</span><span class="n">I</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">a</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">T</span><span class="o">=</span><span class="mi">5</span><span class="p">):</span>
    <span class="c"># The command line must contain dt values</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
        <span class="n">dt_values</span> <span class="o">=</span> <span class="p">[</span><span class="nb">float</span><span class="p">(</span><span class="n">arg</span><span class="p">)</span> <span class="k">for</span> <span class="n">arg</span> <span class="ow">in</span> <span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">[</span><span class="mi">1</span><span class="p">:]]</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">print</span> <span class="s">&#39;Usage: </span><span class="si">%s</span><span class="s"> dt1 dt2 dt3 ...&#39;</span> <span class="o">%</span>  <span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>  <span class="c"># abort</span>

    <span class="c"># Run module file as a stand-alone application</span>
    <span class="n">cmd</span> <span class="o">=</span> <span class="s">&#39;python decay_mod.py --I </span><span class="si">%g</span><span class="s"> --a </span><span class="si">%g</span><span class="s"> --makeplot --T </span><span class="si">%g</span><span class="s">&#39;</span> <span class="o">%</span> \
          <span class="p">(</span><span class="n">I</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span> <span class="n">T</span><span class="p">)</span>
    <span class="n">dt_values_str</span> <span class="o">=</span> <span class="s">&#39; &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="nb">str</span><span class="p">(</span><span class="n">v</span><span class="p">)</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">dt_values</span><span class="p">])</span>
    <span class="n">cmd</span> <span class="o">+=</span> <span class="s">&#39; --dt </span><span class="si">%s</span><span class="s">&#39;</span> <span class="o">%</span> <span class="n">dt_values_str</span>
    <span class="k">print</span> <span class="n">cmd</span>
    <span class="n">failure</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">system</span><span class="p">(</span><span class="n">cmd</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">failure</span><span class="p">:</span>
        <span class="k">print</span> <span class="s">&#39;Command failed:&#39;</span><span class="p">,</span> <span class="n">cmd</span><span class="p">;</span> <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>

    <span class="c"># Combine images into rows with 2 plots in each row</span>
    <span class="n">image_commands</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">method</span> <span class="ow">in</span> <span class="s">&#39;BE&#39;</span><span class="p">,</span> <span class="s">&#39;CN&#39;</span><span class="p">,</span> <span class="s">&#39;FE&#39;</span><span class="p">:</span>
        <span class="n">pdf_files</span> <span class="o">=</span> <span class="s">&#39; &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="s">&#39;</span><span class="si">%s</span><span class="s">_</span><span class="si">%g</span><span class="s">.pdf&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">method</span><span class="p">,</span> <span class="n">dt</span><span class="p">)</span>
                              <span class="k">for</span> <span class="n">dt</span> <span class="ow">in</span> <span class="n">dt_values</span><span class="p">])</span>
        <span class="n">png_files</span> <span class="o">=</span> <span class="s">&#39; &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="s">&#39;</span><span class="si">%s</span><span class="s">_</span><span class="si">%g</span><span class="s">.png&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">method</span><span class="p">,</span> <span class="n">dt</span><span class="p">)</span>
                              <span class="k">for</span> <span class="n">dt</span> <span class="ow">in</span> <span class="n">dt_values</span><span class="p">])</span>
        <span class="n">image_commands</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
            <span class="s">&#39;montage -background white -geometry 100%&#39;</span> <span class="o">+</span>
            <span class="s">&#39; -tile 2x </span><span class="si">%s</span><span class="s"> </span><span class="si">%s</span><span class="s">.png&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">png_files</span><span class="p">,</span> <span class="n">method</span><span class="p">))</span>
        <span class="n">image_commands</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
            <span class="s">&#39;convert -trim </span><span class="si">%s</span><span class="s">.png </span><span class="si">%s</span><span class="s">.png&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">method</span><span class="p">,</span> <span class="n">method</span><span class="p">))</span>
        <span class="n">image_commands</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
            <span class="s">&#39;convert </span><span class="si">%s</span><span class="s">.png -transparent white </span><span class="si">%s</span><span class="s">.png&#39;</span> <span class="o">%</span>
            <span class="p">(</span><span class="n">method</span><span class="p">,</span> <span class="n">method</span><span class="p">))</span>
        <span class="n">image_commands</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
            <span class="s">&#39;pdftk </span><span class="si">%s</span><span class="s"> output tmp.pdf&#39;</span> <span class="o">%</span> <span class="n">pdf_files</span><span class="p">)</span>
        <span class="n">num_rows</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">dt_values</span><span class="p">)</span><span class="o">/</span><span class="mf">2.0</span><span class="p">))</span>
        <span class="n">image_commands</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
            <span class="s">&#39;pdfnup --nup 2x</span><span class="si">%d</span><span class="s"> tmp.pdf&#39;</span> <span class="o">%</span> <span class="n">num_rows</span><span class="p">)</span>
        <span class="n">image_commands</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
            <span class="s">&#39;pdfcrop tmp-nup.pdf </span><span class="si">%s</span><span class="s">.pdf&#39;</span> <span class="o">%</span> <span class="n">method</span><span class="p">)</span>

    <span class="k">for</span> <span class="n">cmd</span> <span class="ow">in</span> <span class="n">image_commands</span><span class="p">:</span>
        <span class="k">print</span> <span class="n">cmd</span>
        <span class="n">failure</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">system</span><span class="p">(</span><span class="n">cmd</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">failure</span><span class="p">:</span>
            <span class="k">print</span> <span class="s">&#39;Command failed:&#39;</span><span class="p">,</span> <span class="n">cmd</span><span class="p">;</span> <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>

    <span class="c"># Remove the files generated above and by decay_mod.py</span>
    <span class="kn">from</span> <span class="nn">glob</span> <span class="kn">import</span> <span class="n">glob</span>
    <span class="n">filenames</span> <span class="o">=</span> <span class="n">glob</span><span class="p">(</span><span class="s">&#39;*_*.png&#39;</span><span class="p">)</span> <span class="o">+</span> <span class="n">glob</span><span class="p">(</span><span class="s">&#39;*_*.pdf&#39;</span><span class="p">)</span> <span class="o">+</span> \
                <span class="n">glob</span><span class="p">(</span><span class="s">&#39;*_*.eps&#39;</span><span class="p">)</span> <span class="o">+</span> <span class="n">glob</span><span class="p">(</span><span class="s">&#39;tmp*.pdf&#39;</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">filename</span> <span class="ow">in</span> <span class="n">filenames</span><span class="p">:</span>
        <span class="n">os</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span>

<span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="s">&#39;__main__&#39;</span><span class="p">:</span>
    <span class="n">run_experiments</span><span class="p">()</span>
</pre></div>
</div>
<p>This file is available as <a class="reference external" href="http://tinyurl.com/nm5587k/softeng1/experiments/decay_exper0.py">experiments/decay_exper0.py</a>.</p>
<span class="target" id="index-3"></span><span class="target" id="index-4"></span><p id="index-5">We may comment upon many useful constructs in this script:</p>
<blockquote>
<div><ul class="simple">
<li><tt class="docutils literal"><span class="pre">[float(arg)</span> <span class="pre">for</span> <span class="pre">arg</span> <span class="pre">in</span> <span class="pre">sys.argv[1:]]</span></tt> builds a list of real numbers
from all the command-line arguments.</li>
<li><tt class="docutils literal"><span class="pre">failure</span> <span class="pre">=</span> <span class="pre">os.system(cmd)</span></tt> runs an operating system command, e.g.,
another program. The execution is successful only if <tt class="docutils literal"><span class="pre">failure</span></tt> is zero.</li>
<li>Unsuccessful execution usually makes it meaningless to continue
the program, and therefore we abort the program with <tt class="docutils literal"><span class="pre">sys.exit(1)</span></tt>.
Any argument different from 0 signifies to the computer&#8217;s operating system
that our program stopped with a failure.</li>
<li><tt class="docutils literal"><span class="pre">['%s_%s.png'</span> <span class="pre">%</span> <span class="pre">(method,</span> <span class="pre">dt)</span> <span class="pre">for</span> <span class="pre">dt</span> <span class="pre">in</span> <span class="pre">dt_values]</span></tt> builds a list of
filenames from a list of numbers (<tt class="docutils literal"><span class="pre">dt_values</span></tt>).</li>
<li>All <tt class="docutils literal"><span class="pre">montage</span></tt>, <tt class="docutils literal"><span class="pre">convert</span></tt>, <tt class="docutils literal"><span class="pre">pdftk</span></tt>, <tt class="docutils literal"><span class="pre">pdfnup</span></tt>, and <tt class="docutils literal"><span class="pre">pdfcrop</span></tt>
commands for creating
composite figures are stored in a
list and later executed in a loop.</li>
<li><tt class="docutils literal"><span class="pre">glob('*_*.png')</span></tt> returns a list of the names of all files in the
current directory where the filename matches the <a class="reference external" href="http://en.wikipedia.org/wiki/Glob_(programming)">Unix wildcard notation</a>
<tt class="docutils literal"><span class="pre">*_*.png</span></tt> (meaning any text, underscore, any text, and then <tt class="docutils literal"><span class="pre">.png</span></tt>).</li>
<li><tt class="docutils literal"><span class="pre">os.remove(filename)</span></tt> removes the file with name <tt class="docutils literal"><span class="pre">filename</span></tt>.</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="interpreting-output-from-other-programs">
<h2>Interpreting output from other programs<a class="headerlink" href="#interpreting-output-from-other-programs" title="Permalink to this headline">¶</a></h2>
<p>Programs that run other programs, like <tt class="docutils literal"><span class="pre">decay_exper0.py</span></tt> does, will often
need to interpret output from those programs. Let us demonstrate how
this is done in Python by extracting the relations between <span class="math">\(\theta\)</span>,
<span class="math">\(\Delta t\)</span>, and the error <span class="math">\(E\)</span> as written to the terminal window
by the <tt class="docutils literal"><span class="pre">decay_mod.py</span></tt> program, when being executed by
<tt class="docutils literal"><span class="pre">decay_exper0.py</span></tt>. We will</p>
<blockquote>
<div><ul class="simple">
<li>read the output from the <tt class="docutils literal"><span class="pre">decay_mod.py</span></tt> program</li>
<li>interpret this output and store the <span class="math">\(E\)</span> values in arrays for each
<span class="math">\(\theta\)</span> value</li>
<li>plot <span class="math">\(E\)</span> versus <span class="math">\(\Delta t\)</span>, for each <span class="math">\(\theta\)</span>, in a log-log plot</li>
</ul>
</div></blockquote>
<span class="target" id="index-6"></span><p id="index-7">The simple <tt class="docutils literal"><span class="pre">os.system(cmd)</span></tt> call does not allow us to read the
output from running <tt class="docutils literal"><span class="pre">cmd</span></tt>. Instead we need to invoke a bit more
involved procedure:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">subprocess</span> <span class="kn">import</span> <span class="n">Popen</span><span class="p">,</span> <span class="n">PIPE</span><span class="p">,</span> <span class="n">STDOUT</span>
<span class="n">p</span> <span class="o">=</span> <span class="n">Popen</span><span class="p">(</span><span class="n">cmd</span><span class="p">,</span> <span class="n">shell</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">stdout</span><span class="o">=</span><span class="n">PIPE</span><span class="p">,</span> <span class="n">stderr</span><span class="o">=</span><span class="n">STDOUT</span><span class="p">)</span>
<span class="n">output</span><span class="p">,</span> <span class="n">dummy</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">communicate</span><span class="p">()</span>
<span class="n">failure</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">returncode</span>
<span class="k">if</span> <span class="n">failure</span><span class="p">:</span>
    <span class="k">print</span> <span class="s">&#39;Command failed:&#39;</span><span class="p">,</span> <span class="n">cmd</span><span class="p">;</span> <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
<p>The command stored in <tt class="docutils literal"><span class="pre">cmd</span></tt> is run and all text that is written to
the standard output <em>and</em> the standard error is available in the
string <tt class="docutils literal"><span class="pre">output</span></tt>. Or in other words, the text in <tt class="docutils literal"><span class="pre">output</span></tt> is what appeared in the
terminal window while running <tt class="docutils literal"><span class="pre">cmd</span></tt>.</p>
<p>Our next task is to run through the <tt class="docutils literal"><span class="pre">output</span></tt> string, line by line,
and if the current line prints <span class="math">\(\theta\)</span>, <span class="math">\(\Delta t\)</span>, and <span class="math">\(E\)</span>,
we split the line into these three pieces and store the data.
The chosen storage structure is a dictionary <tt class="docutils literal"><span class="pre">errors</span></tt> with keys <tt class="docutils literal"><span class="pre">dt</span></tt>
to hold the <span class="math">\(\Delta t\)</span> values in a list, and three <span class="math">\(\theta\)</span> keys to hold
the corresponding <span class="math">\(E\)</span> values in a list. The relevant code lines are</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">errors</span> <span class="o">=</span> <span class="p">{</span><span class="s">&#39;dt&#39;</span><span class="p">:</span> <span class="n">dt_values</span><span class="p">,</span> <span class="mi">1</span><span class="p">:</span> <span class="p">[],</span> <span class="mi">0</span><span class="p">:</span> <span class="p">[],</span> <span class="mf">0.5</span><span class="p">:</span> <span class="p">[]}</span>
<span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">output</span><span class="o">.</span><span class="n">splitlines</span><span class="p">():</span>
    <span class="n">words</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">words</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="ow">in</span> <span class="p">(</span><span class="s">&#39;0.0&#39;</span><span class="p">,</span> <span class="s">&#39;0.5&#39;</span><span class="p">,</span> <span class="s">&#39;1.0&#39;</span><span class="p">):</span>  <span class="c"># line with E?</span>
        <span class="c"># typical line: 0.0   1.25:    7.463E+00</span>
        <span class="n">theta</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">words</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
        <span class="n">E</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">words</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
        <span class="n">errors</span><span class="p">[</span><span class="n">theta</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">E</span><span class="p">)</span>
</pre></div>
</div>
<p>Note that we do not bother to store the <span class="math">\(\Delta t\)</span> values as we
read them from <tt class="docutils literal"><span class="pre">output</span></tt>, because we already have these values in
the <tt class="docutils literal"><span class="pre">dt_values</span></tt> list.</p>
<p>We are now ready to plot <span class="math">\(E\)</span> versus <span class="math">\(\Delta t\)</span> for <span class="math">\(\theta=0,0.5,1\)</span>:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="kn">as</span> <span class="nn">plt</span>
<span class="n">plt</span><span class="o">.</span><span class="n">loglog</span><span class="p">(</span><span class="n">errors</span><span class="p">[</span><span class="s">&#39;dt&#39;</span><span class="p">],</span> <span class="n">errors</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="s">&#39;ro-&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">hold</span><span class="p">(</span><span class="s">&#39;on&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">loglog</span><span class="p">(</span><span class="n">errors</span><span class="p">[</span><span class="s">&#39;dt&#39;</span><span class="p">],</span> <span class="n">errors</span><span class="p">[</span><span class="mf">0.5</span><span class="p">],</span> <span class="s">&#39;b+-&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">loglog</span><span class="p">(</span><span class="n">errors</span><span class="p">[</span><span class="s">&#39;dt&#39;</span><span class="p">],</span> <span class="n">errors</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="s">&#39;gx-&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">([</span><span class="s">&#39;FE&#39;</span><span class="p">,</span> <span class="s">&#39;CN&#39;</span><span class="p">,</span> <span class="s">&#39;BE&#39;</span><span class="p">],</span> <span class="n">loc</span><span class="o">=</span><span class="s">&#39;upper left&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s">&#39;log(time step)&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s">&#39;log(error)&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s">&#39;Error vs time step&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="s">&#39;error.png&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="s">&#39;error.pdf&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Plots occasionally need some manual adjustments. Here, the axis of
the log-log plot look nicer if we adapt them strictly to the data,
see Figure <a class="reference internal" href="#decay-exper-evsdt"><em>Default plot (left) and manually adjusted axes (right)</em></a>.
To this end, we need to compute <span class="math">\(\min E\)</span> and <span class="math">\(\max E\)</span>, and later
specify the extent of the axes:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="c"># Find min/max for the axis</span>
<span class="n">E_min</span> <span class="o">=</span> <span class="mf">1E+20</span><span class="p">;</span> <span class="n">E_max</span> <span class="o">=</span> <span class="o">-</span><span class="n">E_min</span>
<span class="k">for</span> <span class="n">theta</span> <span class="ow">in</span> <span class="mi">0</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">,</span> <span class="mi">1</span><span class="p">:</span>
    <span class="n">E_min</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="n">E_min</span><span class="p">,</span> <span class="nb">min</span><span class="p">(</span><span class="n">errors</span><span class="p">[</span><span class="n">theta</span><span class="p">]))</span>
    <span class="n">E_max</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">E_max</span><span class="p">,</span> <span class="nb">max</span><span class="p">(</span><span class="n">errors</span><span class="p">[</span><span class="n">theta</span><span class="p">]))</span>

<span class="n">plt</span><span class="o">.</span><span class="n">loglog</span><span class="p">(</span><span class="n">errors</span><span class="p">[</span><span class="s">&#39;dt&#39;</span><span class="p">],</span> <span class="n">errors</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="s">&#39;ro-&#39;</span><span class="p">)</span>
<span class="o">...</span>
<span class="n">plt</span><span class="o">.</span><span class="n">axis</span><span class="p">([</span><span class="nb">min</span><span class="p">(</span><span class="n">dt_values</span><span class="p">),</span> <span class="nb">max</span><span class="p">(</span><span class="n">dt_values</span><span class="p">),</span> <span class="n">E_min</span><span class="p">,</span> <span class="n">E_max</span><span class="p">])</span>
<span class="o">...</span>
</pre></div>
</div>
<div class="figure" id="decay-exper-evsdt">
<a class="reference internal image-reference" href="_images/error_plot_improvement.png"><img alt="_images/error_plot_improvement.png" src="_images/error_plot_improvement.png" style="width: 800px;" /></a>
<p class="caption"><em>Default plot (left) and manually adjusted axes (right)</em></p>
</div>
<p>The complete program, incorporating the code snippets above, is found
in <a class="reference external" href="http://tinyurl.com/nm5587k/softeng1/experiments/decay_exper1.py">experiments/decay_exper1.py</a>.
This example can hopefully act as template for numerous
other occasions
where one needs to run experiments, extract data from the output
of programs, make plots, and combine several plots in a figure file.
The <tt class="docutils literal"><span class="pre">decay_exper1.py</span></tt> program
is organized as a module, and other files can then easily extend
the functionality, as illustrated in the next section.</p>
</div>
<div class="section" id="making-a-report">
<span id="decay-exper-report"></span><h2>Making a report<a class="headerlink" href="#making-a-report" title="Permalink to this headline">¶</a></h2>
<p>The results of running computer experiments are best documented in a
little report containing the problem to be solved, key code segments,
and the plots from a series of experiments. At least the part of the
report containing the plots should be automatically generated by the
script that performs the set of experiments, because in that script we
know exactly which input data that were used to generate a specific
plot, thereby ensuring that each figure is connected to the
right data. Take a look at an
example at <a class="reference external" href="http://hplgit.github.io/teamods/writing_reports/sphinx-cloud/">http://hplgit.github.io/teamods/writing_reports/sphinx-cloud/</a>  to see what we have in
mind.</p>
<div class="section" id="plain-html">
<h3>Plain HTML<a class="headerlink" href="#plain-html" title="Permalink to this headline">¶</a></h3>
<p>Scientific reports can be written in a variety of formats. Here we
begin with the <a class="reference external" href="http://en.wikipedia.org/wiki/HTML">HTML</a> format
which allows efficient viewing of all the experiments in any web
browser. The program
<a class="reference external" href="http://tinyurl.com/nm5587k/softeng1/experiments/decay_exper1_html.py">decay_exper1_html.py</a> calls
<tt class="docutils literal"><span class="pre">decay_exper1.py</span></tt> to perform the experiments and then runs
statements for creating an HTML file with a summary, a
section on the mathematical problem, a section on the numerical
method, a section on the <tt class="docutils literal"><span class="pre">solver</span></tt> function implementing the
method, and a section with subsections containing figures that show
the results of experiments where <span class="math">\(\Delta t\)</span> is varied for
<span class="math">\(\theta=0,0.5,1\)</span>. The mentioned
Python file contains all the details for writing
this <a class="reference external" href="http://hplgit.github.io/teamods/writing_reports/_static/report_html.html.html">HTML report</a>.
You can view the report on <a class="reference external" href="http://hplgit.github.io/teamods/writing_reports/_static/report_html.html">http://hplgit.github.io/teamods/writing_reports/_static/report_html.html</a>.</p>
</div>
<div class="section" id="html-with-mathjax">
<h3>HTML with MathJax<a class="headerlink" href="#html-with-mathjax" title="Permalink to this headline">¶</a></h3>
<p>Scientific reports usually need mathematical formulas and hence
mathematical typesetting. In plain HTML, as used in the
<tt class="docutils literal"><span class="pre">decay_exper1_html.py</span></tt> file, we have to use just the keyboard
characters to write mathematics. However, there is an extension to
HTML, called <a class="reference external" href="http://www.mathjax.org/">MathJax</a>, which allows
formulas and equations to be typeset with LaTeX syntax and nicely
rendered in web browsers, see Figure
<a class="reference internal" href="#decay-exper-report-fig-mathjax"><em>Report in HTML format with MathJax</em></a>.  A relatively small subset of
LaTeX environments is supported, but the syntax for formulas is quite
rich. Inline formulas are look like <tt class="docutils literal"><span class="pre">\(</span> <span class="pre">u'=-au</span> <span class="pre">\)</span></tt> while equations are
surrounded by <tt class="docutils literal"><span class="pre">$$</span></tt> signs.  Inside such signs, one can use <tt class="docutils literal"><span class="pre">\[</span> <span class="pre">u'=-au</span>
<span class="pre">\]</span></tt> for unnumbered equations, or <tt class="docutils literal"><span class="pre">\begin{equation}</span></tt> and
<tt class="docutils literal"><span class="pre">\end{equation}</span></tt> surrounding <tt class="docutils literal"><span class="pre">u'=-au</span></tt> for numbered equations, or
<tt class="docutils literal"><span class="pre">\begin{equation}</span></tt> and <tt class="docutils literal"><span class="pre">\end{equation}</span></tt> for multiple aligned equations.  You
need to be familiar with <a class="reference external" href="http://en.wikibooks.org/wiki/LaTeX/Mathematics">mathematical typesetting in LaTeX</a>.</p>
<p>The file <a class="reference external" href="http://tinyurl.com/nm5587k/softeng1/experiments/decay_exper1_html.py">decay_exper1_mathjax.py</a> contains all the
details for turning the previous plain HTML report into <a class="reference external" href="http://hplgit.github.io/teamods/writing_reports/_static/report_mathjax.html">web pages
with nicely typeset mathematics</a>.  The
<a class="reference external" href="http://hplgit.github.io/teamods/writing_reports/_static/report_mathjax.html.html">corresponding HTML code</a> be studied
to see all details of the mathematical typesetting.</p>
<div class="figure" id="decay-exper-report-fig-mathjax">
<a class="reference internal image-reference" href="_images/report_mathjax.png"><img alt="_images/report_mathjax.png" src="_images/report_mathjax.png" style="width: 600px;" /></a>
<p class="caption"><em>Report in HTML format with MathJax</em></p>
</div>
</div>
<div class="section" id="latex">
<h3>LaTeX<a class="headerlink" href="#latex" title="Permalink to this headline">¶</a></h3>
<p>The <em>de facto</em> language for mathematical typesetting and scientific
report writing is <a class="reference external" href="http://en.wikipedia.org/wiki/LaTeX">LaTeX</a>. A
number of very sophisticated packages have been added to the language
over a period of three decades, allowing very fine-tuned layout and
typesetting. For output in the <a class="reference external" href="http://hplgit.github.io/teamods/writing_reports/_static/report.pdf">PDF format</a>, see Figure
<a class="reference internal" href="#decay-exper-report-fig-latex"><em>Report in PDF format generated from LaTeX source</em></a> for an example, LaTeX is the
definite choice when it comes to quality. The LaTeX language used to
write the reports has typically a lot of commands involving
<a class="reference external" href="http://hplgit.github.io/teamods/writing_reports/_static/report.tex.html">backslashes and braces</a>.  For output on
the web, using HTML (and not the PDF directly in the browser window),
LaTeX struggles with delivering high quality typesetting. Other tools,
especially Sphinx, give better results and can also produce
nice-looking PDFs.  The file <tt class="docutils literal"><span class="pre">decay_exper1_latex.py</span></tt> shows how to
generate the LaTeX source from a program.</p>
<div class="figure" id="decay-exper-report-fig-latex">
<a class="reference internal image-reference" href="_images/report_latexpdf.png"><img alt="_images/report_latexpdf.png" src="_images/report_latexpdf.png" style="width: 600px;" /></a>
<p class="caption"><em>Report in PDF format generated from LaTeX source</em></p>
</div>
</div>
<div class="section" id="sphinx">
<h3>Sphinx<a class="headerlink" href="#sphinx" title="Permalink to this headline">¶</a></h3>
<p><a class="reference external" href="http://sphinx.pocoo.org/">Sphinx</a> is a typesetting language with
similarities to HTML and LaTeX, but with much less tagging. It has
recently become very popular for software documentation and
mathematical reports. Sphinx can utilize LaTeX for mathematical
formulas and equations (via MathJax or PNG images). Unfortunately, the
subset of LaTeX mathematics supported is less than in full MathJax (in
particular, numbering of multiple equations in an <tt class="docutils literal"><span class="pre">align</span></tt> type
environment is not supported).  The <a class="reference external" href="http://hplgit.github.io/teamods/writing_reports/_static/report_sphinx.rst.html">Sphinx syntax</a> is an extension of
the reStructuredText language. An attractive feature of Sphinx is its
rich support for <a class="reference external" href="http://hplgit.github.io/teamods/writing_reports/_static/sphinx-cloud/index.html">fancy layout of web pages</a>. In particular,
Sphinx can easily be combined with various layout <em>themes</em> that give a
certain look and feel to the web site and that offers table of
contents, navigation, and search facilities, see Figure
<a class="reference internal" href="#decay-exper-report-fig-sphinx"><em>Report in HTML format generated from Sphinx source</em></a>.</p>
<div class="figure" id="decay-exper-report-fig-sphinx">
<a class="reference internal image-reference" href="_images/report_sphinx.png"><img alt="_images/report_sphinx.png" src="_images/report_sphinx.png" style="width: 600px;" /></a>
<p class="caption"><em>Report in HTML format generated from Sphinx source</em></p>
</div>
</div>
<div class="section" id="markdown">
<h3>Markdown<a class="headerlink" href="#markdown" title="Permalink to this headline">¶</a></h3>
<p>A recently popular format for easy writing of web pages is
<a class="reference external" href="http://daringfireball.net/projects/markdown/">Markdown</a>.
Text is written very much like one would do in email, using
spacing and special characters to naturally format the code
instead of heavily tagging the text as in LaTeX and HTML.
With the tool <a class="reference external" href="http://johnmacfarlane.net/pandoc/">Pandoc</a> one
can go from Markdown to a variety of formats.
HTML is a common output format, but LaTeX, epub, XML,
OpenOffice, MediaWiki, and MS Word are some other possibilities.</p>
</div>
<div class="section" id="wiki-formats">
<h3>Wiki formats<a class="headerlink" href="#wiki-formats" title="Permalink to this headline">¶</a></h3>
<p>A range of wiki formats are popular for creating notes on the web,
especially documents which allow groups of people to edit and add
content. Apart from <a class="reference external" href="http://www.mediawiki.org/wiki/MediaWiki">MediaWiki</a> (the wiki format used for
Wikipedia), wiki formats have no support for mathematical typesetting
and also limited tools for displaying computer code in nice ways.
Wiki formats are therefore less suitable for scientific reports compared
to the other formats mentioned here.</p>
</div>
<div class="section" id="doconce">
<h3>DocOnce<a class="headerlink" href="#doconce" title="Permalink to this headline">¶</a></h3>
<p>Since it is difficult to choose the right tool or format for writing
a scientific report, it is advantageous to write the content in a
format that easily translates to LaTeX, HTML, Sphinx, Markdown,
and various wikis. <a class="reference external" href="https://github.com/hplgit/doconce">DocOnce</a> is such
a tool. It is similar to Pandoc, but offers some special convenient
features for writing about mathematics and programming.
The <a class="reference external" href="http://hplgit.github.io/teamods/writing_reports/_static/report.do.txt.html">tagging is modest</a>,
somewhere between LaTeX and Markdown.
The program <tt class="docutils literal"><span class="pre">decay_exper_do.py</span></tt> demonstrates how to generate (and write)
DocOnce code for a report.</p>
</div>
<div class="section" id="worked-example">
<h3>Worked example<a class="headerlink" href="#worked-example" title="Permalink to this headline">¶</a></h3>
<p>The HTML, LaTeX (PDF), Sphinx, and DocOnce formats for the scientific
report whose content is outlined above, are exemplified
with source codes and results at the
web pages associated with this teaching material:
<a class="reference external" href="http://hplgit.github.io/teamods/writing_reports">http://hplgit.github.io/teamods/writing_reports</a>.</p>
</div>
</div>
<div class="section" id="publishing-a-complete-project">
<span id="decay-exper-github"></span><h2>Publishing a complete project<a class="headerlink" href="#publishing-a-complete-project" title="Permalink to this headline">¶</a></h2>
<p>A report documenting scientific investigations should be accompanied by
all the software and data used for the investigations so that others
have a possibility to redo the work and assess the qualify of the results.
This possibility is important for <em>reproducible research</em> and
hence reaching reliable scientific conclusions.</p>
<p>One way of documenting a complete project is to make a directory tree
with all relevant files. Preferably, the tree is published at
some project hosting site like <a class="reference external" href="http://hplgit.github.com/teamods/bitgit/html/">Bitbucket, GitHub, or Googlecode</a> so that others can download it
as a tarfile, zipfile, or clone the files directly using a version control
system like Mercurial or Git.
For the investigations outlined in the section <a class="reference internal" href="#decay-exper-report"><em>Making a report</em></a>,
we can create a directory tree with files</p>
<div class="highlight-text"><div class="highlight"><pre>setup.py
./src:
   decay_mod.py
./doc:
   ./src:
      decay_exper1_mathjax.py
      make_report.sh
      run.sh
   ./pub:
      report.html
</pre></div>
</div>
<p>The <tt class="docutils literal"><span class="pre">src</span></tt> directory holds source code (modules) to be reused in other projects,
the <tt class="docutils literal"><span class="pre">setup.py</span></tt> builds and installs such software,
the <tt class="docutils literal"><span class="pre">doc</span></tt> directory contains the documentation, with <tt class="docutils literal"><span class="pre">src</span></tt> for the
source of the documentation and <tt class="docutils literal"><span class="pre">pub</span></tt> for ready-made, published documentation.
The <tt class="docutils literal"><span class="pre">run.sh</span></tt> file is a simple Bash script listing the <tt class="docutils literal"><span class="pre">python</span></tt> command
we used to run <tt class="docutils literal"><span class="pre">decay_exper1_mathjax.py</span></tt> to generate the experiments and
the <tt class="docutils literal"><span class="pre">report.html</span></tt> file.</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <center>
            <p class="logo"><a href="http://cbc.simula.no/" title="Go to Center for Biomedical Computing">
              <img class="logo" src="_static/cbc_logo.png" alt="Logo"/>
            </a></p>
            </center>
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Performing scientific experiments</a><ul>
<li><a class="reference internal" href="#software">Software</a></li>
<li><a class="reference internal" href="#combining-plot-files">Combining plot files</a></li>
<li><a class="reference internal" href="#interpreting-output-from-other-programs">Interpreting output from other programs</a></li>
<li><a class="reference internal" href="#making-a-report">Making a report</a><ul>
<li><a class="reference internal" href="#plain-html">Plain HTML</a></li>
<li><a class="reference internal" href="#html-with-mathjax">HTML with MathJax</a></li>
<li><a class="reference internal" href="#latex">LaTeX</a></li>
<li><a class="reference internal" href="#sphinx">Sphinx</a></li>
<li><a class="reference internal" href="#markdown">Markdown</a></li>
<li><a class="reference internal" href="#wiki-formats">Wiki formats</a></li>
<li><a class="reference internal" href="#doconce">DocOnce</a></li>
<li><a class="reference internal" href="#worked-example">Worked example</a></li>
</ul>
</li>
<li><a class="reference internal" href="#publishing-a-complete-project">Publishing a complete project</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="._main_softeng1002.html"
                        title="previous chapter">Software engineering</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="._main_softeng1004.html"
                        title="next chapter">Exercises</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/._main_softeng1003.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" size="18" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="._main_softeng1004.html" title="Exercises"
             >next</a> |</li>
        <li class="right" >
          <a href="._main_softeng1002.html" title="Software engineering"
             >previous</a> |</li>
        <li><a href="index.html">Scientific software engineering with a simple ODE model as example</a> &raquo;</li> 
      </ul>
    </div>
<div class="wrapper">
  <div class="footer">
  <a href="http://cbc.simula.no"><img src="_static/cbc_banner.png" width="100%"><a>
  </div>
</div>

  </body>
</html>